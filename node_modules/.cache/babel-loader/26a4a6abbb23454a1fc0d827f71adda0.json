{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSR-master\\\\src\\\\admin\\\\components\\\\jobs\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport moment from \"moment\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\"; // context\n\nimport { AdminContext } from \"../../context/admin\";\nimport PageLoading from \"../loading/pageloading\";\nimport { Modal } from 'react-bootstrap';\n\nclass Jobs extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      id: '',\n      show: null,\n      status: ''\n    };\n\n    this.componentDidMount = () => {\n      const {\n        getJobs,\n        jobs\n      } = this.context;\n      const {\n        status\n      } = this.props.match.params;\n      this.setState({\n        status\n      });\n\n      if (jobs.length === 0) {\n        getJobs(status);\n      }\n\n      ;\n    };\n\n    this.handleSingleJob = async id => {\n      await this.context.getSingleJob(id);\n      this.props.history.push(`/admin/single-job/${id}`);\n    };\n\n    this.handleDeleteBtn = id => {\n      this.setState({\n        id,\n        show: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleEmployerProfile = async id => {\n      await this.context.getEmployerProfile(id);\n      this.props.history.push(\"/admin/profile/employer\");\n    };\n  }\n\n  render() {\n    const {\n      status\n    } = this.props.match.params;\n    const statusName = status === \"0\" ? \"Opend\" : status === \"1\" ? \"Closed\" : status === \"2\" ? \"Processed\" : \"Completed\";\n    const {\n      jobs,\n      loading\n    } = this.context;\n    const data = jobs;\n    const imageUrl = \"http://excodeteam.com/crs/public/images/\";\n    const columns = [{\n      title: \"Job Name\",\n      dataIndex: \"title\",\n      render: (title, record) => {\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          onClick: () => this.handleSingleJob(record.id),\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Job Image\",\n          src: record.image ? imageUrl + record.image : IMG01,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          onClick: () => this.handleSingleJob(record.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }\n        }, title.substr(0, 30)));\n      },\n      sorter: (a, b) => a.title.length - b.title.length\n    }, {\n      title: \"Category\",\n      dataIndex: \"category\",\n      render: category => category ? category.name : \"null\",\n      sorter: (a, b) => a.category.name.length - b.category.name.length\n    }, {\n      title: \"Employer Name\",\n      dataIndex: \"employer\",\n      render: _ref => {\n        let {\n          name,\n          photo,\n          id\n        } = _ref;\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"\",\n          onClick: () => this.handleEmployerProfile(id),\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Job Image\",\n          src: photo ? imageUrl + photo : IMG01,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: \"\",\n          onClick: () => this.handleEmployerProfile(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }\n        }, name));\n      },\n      sorter: (a, b) => a.employer.name.length - b.employer.name.length\n    }, {\n      title: \"Posted At\",\n      dataIndex: \"created_at\",\n      render: date => moment(date).format(\"YYYY-MM-DD\"),\n      sorter: (a, b) => a.created_at.length - b.created_at.length\n    }, {\n      title: \"Proposals Count\",\n      dataIndex: \"proposals_count\",\n      render: proposals_count => `Proposals (${proposals_count})`\n    }, {\n      title: \"Details\",\n      dataIndex: \"id\",\n      render: id => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"actions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleSingleJob(id),\n        className: \"btn btn-sm bg-info-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, \"View\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm bg-danger-light\",\n        onClick: () => this.handleDeleteBtn(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fe fe-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 101\n        }\n      }), \" Delete\"))\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, \"Jobs\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 53\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, statusName, \" Jobs\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, loading ? /*#__PURE__*/React.createElement(PageLoading, {\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-striped\",\n      style: {\n        overflowX: \"auto\"\n      },\n      columns: columns // bordered\n      ,\n      dataSource: data,\n      rowKey: record => record.id,\n      showSizeChanger: true,\n      pagination: {\n        total: data.length,\n        showTotal: (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n        itemRender: itemRender\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 27\n      }\n    })))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-content p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 19\n      }\n    }, \"Are you sure want to delete?\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: () => {\n        this.context.deleteJob(this.state.id, this.state.status);\n        this.handleClose();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, \"Save \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      \"data-dismiss\": \"modal\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"Close\")))))));\n  }\n\n}\n\nJobs.contextType = AdminContext;\nexport default Jobs;","map":{"version":3,"sources":["E:/CSR-master/src/admin/components/jobs/index.jsx"],"names":["React","Component","Link","Table","itemRender","onShowSizeChange","moment","IMG01","AdminContext","PageLoading","Modal","Jobs","state","id","show","status","componentDidMount","getJobs","jobs","context","props","match","params","setState","length","handleSingleJob","getSingleJob","history","push","handleDeleteBtn","handleClose","handleEmployerProfile","getEmployerProfile","render","statusName","loading","data","imageUrl","columns","title","dataIndex","record","image","substr","sorter","a","b","category","name","photo","employer","date","format","created_at","proposals_count","overflowX","total","showTotal","range","showSizeChanger","deleteJob","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport moment from \"moment\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\";\n// context\nimport { AdminContext } from \"../../context/admin\";\nimport PageLoading from \"../loading/pageloading\"\nimport { Modal } from 'react-bootstrap';\n\nclass Jobs extends Component {\n\n  state = {\n    id: '',\n    show: null,\n    status: ''\n  }\n\n  componentDidMount = () => {\n    const { getJobs, jobs } = this.context;\n    const { status } = this.props.match.params;\n    this.setState({\n      status\n    });\n    if (jobs.length === 0) { getJobs(status) };\n  }\n\n  handleSingleJob = async (id) => {\n    await this.context.getSingleJob(id);\n    this.props.history.push(`/admin/single-job/${id}`);\n  }\n\n  handleDeleteBtn = (id) => {\n    this.setState({ id, show: true });\n  }\n  handleClose = () => {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleEmployerProfile = async (id) => {\n    await this.context.getEmployerProfile(id);\n    this.props.history.push(\"/admin/profile/employer\");\n  }\n\n  render() {\n    const { status } = this.props.match.params;\n    const statusName = status === \"0\" ? \"Opend\" : status === \"1\" ? \"Closed\" : status === \"2\" ? \"Processed\" : \"Completed\";\n    const { jobs, loading } = this.context;\n    const data = jobs\n    const imageUrl = \"http://excodeteam.com/crs/public/images/\";\n    const columns = [\n      {\n        title: \"Job Name\",\n        dataIndex: \"title\",\n        render: (title, record) => {\n          return (\n            <h2 className=\"table-avatar\">\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)} className=\"avatar avatar-sm mr-2\">\n                <img alt=\"Job Image\" src={record.image ? (imageUrl + record.image) : IMG01} />\n              </Link>\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)}>{title.substr(0, 30)}</Link>\n            </h2>\n          )\n        },\n        sorter: (a, b) => a.title.length - b.title.length,\n      },\n      {\n        title: \"Category\",\n        dataIndex: \"category\",\n        render: (category) => (category ? category.name : \"null\"),\n        sorter: (a, b) => a.category.name.length - b.category.name.length,\n      },\n      {\n        title: \"Employer Name\",\n        dataIndex: \"employer\",\n        render: ({ name, photo, id }) => (\n          <h2 className=\"table-avatar\">\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)} className=\"avatar avatar-sm mr-2\">\n              <img alt=\"Job Image\" src={photo ? (imageUrl + photo) : IMG01} />\n            </Link>\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)}>{name}</Link>\n          </h2>\n        ),\n        sorter: (a, b) => a.employer.name.length - b.employer.name.length,\n      },\n      {\n        title: \"Posted At\",\n        dataIndex: \"created_at\",\n        render: (date) => (moment(date).format(\"YYYY-MM-DD\")),\n        sorter: (a, b) => a.created_at.length - b.created_at.length,\n      },\n      {\n        title: \"Proposals Count\",\n        dataIndex: \"proposals_count\",\n        render: (proposals_count) => (`Proposals (${proposals_count})`),\n      },\n      {\n        title: \"Details\",\n        dataIndex: \"id\",\n        render: (id) => (\n          <div className=\"actions\">\n            <button onClick={() => this.handleSingleJob(id)} className=\"btn btn-sm bg-info-light\">View</button>\n            <button className=\"btn btn-sm bg-danger-light\" onClick={() => this.handleDeleteBtn(id)}><i className=\"fe fe-trash\"></i> Delete</button>\n          </div>\n        ),\n      },\n    ];\n\n    return (\n      <>\n        <div className=\"page-wrapper\">\n          <div className=\"content container-fluid\">\n\n            <div className=\"page-header\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <h3 className=\"page-title\">Jobs</h3>\n                  <ul className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\"><Link to=\"/admin\">Dashboard</Link></li>\n                    <li className=\"breadcrumb-item active\">{statusName} Jobs</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    {\n                      loading ? <PageLoading loading={loading} /> :\n                        <div className=\"table-responsive\">\n                          <Table\n                            className=\"table-striped\"\n                            style={{ overflowX: \"auto\" }}\n                            columns={columns}\n                            // bordered\n                            dataSource={data}\n                            rowKey={(record) => record.id}\n                            showSizeChanger={true}\n                            pagination={{\n                              total: data.length,\n                              showTotal: (total, range) =>\n                                `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                              showSizeChanger: true,\n                              onShowSizeChange: onShowSizeChange,\n                              itemRender: itemRender,\n                            }}\n                          />\n                        </div>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Delete Modal */}\n            <Modal show={this.state.show} onHide={this.handleClose} centered>\n              <Modal.Body className=\"text-center\">\n                <div className=\"form-content p-2\">\n                  <h4 className=\"modal-title\">Delete</h4>\n                  <p className=\"mb-4\">Are you sure want to delete?</p>\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={() => { this.context.deleteJob(this.state.id, this.state.status); this.handleClose(); }}>Save </button>\n                  <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={() => this.handleClose()}>Close</button>\n                </div>\n              </Modal.Body>\n            </Modal>\n\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nJobs.contextType = AdminContext;\nexport default Jobs;"]},"metadata":{},"sourceType":"module"}