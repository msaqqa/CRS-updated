{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import DashboardSidebar from'../sidebar/sidebar.jsx';import IMG01 from'../../../assets/images/patient.jpg';import StickyBox from\"react-sticky-box\";import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';// context\nimport{EmployeeContext}from\"../../../context/employee\";import{UserContext}from\"../../../context/user\";import DateView from\"react-datepicker\";import moment from\"moment\";function Profile(){// context values\nvar _useContext=useContext(EmployeeContext),getProfile=_useContext.getProfile,profile=_useContext.profile,setProfile=_useContext.setProfile,loading=_useContext.loading;var _useContext2=useContext(UserContext),getCountries=_useContext2.getCountries,countries=_useContext2.countries;var categories=profile.categories,employeeInfo=profile.employeeInfo;var category=Object.assign({},employeeInfo.category),country_id=employeeInfo.country_id,email=employeeInfo.email,mobile=employeeInfo.mobile,photo=employeeInfo.photo,name=employeeInfo.name,birthDate=employeeInfo.birthDate,address=employeeInfo.address,city=employeeInfo.city,state=employeeInfo.state,zipCode=employeeInfo.zipCode,pref=employeeInfo.pref;var imageUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),preview=_useState2[0],setPreview=_useState2[1];useEffect(function(){getProfile();getCountries();},[]);var initialValues=function initialValues(){var date=!birthDate||birthDate===\"0000-00-00 00:00:00\"?new Date():new Date(birthDate);return{pref:pref||'',photo:photo||null,name:name||'',birthDate:date,email:email||'',mobile:mobile||'',category:category.id||'',country:country_id||'',address:address||\"\",city:city||\"\",state:state||\"\",zipCode:zipCode||\"\"};};var validationSchema=Yup.object().shape({name:Yup.string().required(\"Required\"),email:Yup.string().required(\"Required\")});var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var birthDate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:birthDate=values.birthDate;birthDate=moment(birthDate).format(\"YYYY-MM-DD\");_context.next=4;return setProfile(_objectSpread(_objectSpread({},values),{},{birthDate:birthDate}));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Profile Settings\"))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Profile Settings\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(StickyBox,{offsetTop:20,offsetBottom:20},/*#__PURE__*/React.createElement(DashboardSidebar,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues(),validationSchema:validationSchema,onSubmit:handleSubmit,validateOnChange:false,enableReinitialize:true},function(formik){var setFieldValue=formik.setFieldValue;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"change-avatar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-img\"},/*#__PURE__*/React.createElement(\"img\",{src:preview||imageUrl,alt:\"User\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"upload-img\"},/*#__PURE__*/React.createElement(\"div\",{className:\"change-photo-btn\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-upload\"}),\" Upload Photo\"),/*#__PURE__*/React.createElement(Field,{type:\"file\",name:\"file\",className:\"upload\",onChange:function onChange(e){setPreview(URL.createObjectURL(e.target.files[0]));setFieldValue(\"photo\",e.currentTarget.files[0]);}})),/*#__PURE__*/React.createElement(\"small\",{className:\"form-text text-muted\"},\"Allowed JPG, GIF or PNG. Max size of 2MB\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Pref\"),/*#__PURE__*/React.createElement(Field,{as:\"textarea\",name:\"pref\",className:\"form-control\",rows:\"5\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"name\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Date of Birth\"),/*#__PURE__*/React.createElement(\"div\",{className:\"cal-icon\"},/*#__PURE__*/React.createElement(Field,{name:\"birthDate\"},function(_ref2){var form=_ref2.form,field=_ref2.field;var setFieldValue=form.setFieldValue;var value=field.value;return/*#__PURE__*/React.createElement(DateView,Object.assign({},field,{className:\"form-control datetimepicker\",placeholderText:\"Click to select a birth date\",maxDate:new Date(),selected:value,dateFormat:\"yyyy-MM-dd\",showYearDropdown:true,onChange:function onChange(val){return setFieldValue(\"birthDate\",val);}}));})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email ID\"),/*#__PURE__*/React.createElement(Field,{type:\"email\",name:\"email\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Mobile\"),/*#__PURE__*/React.createElement(Field,{type:\"number\",name:\"mobile\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Category\"),/*#__PURE__*/React.createElement(Field,{as:\"select\",name:\"category\",className:\"form-control\"},categories.map(function(category){return/*#__PURE__*/React.createElement(\"option\",{key:category.id,value:category.id},category.name);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Country\"),/*#__PURE__*/React.createElement(Field,{as:\"select\",name:\"country\",className:\"form-control\"},countries.map(function(country,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,value:country},country);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"address\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"City\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"city\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"State\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"state\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Zip Code\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"zipCode\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"submit-section\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary submit-btn\"},\"Save Changes\")));}))))))));}export default Profile;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employee/profile/index.jsx"],"names":["React","useContext","useState","useEffect","DashboardSidebar","IMG01","StickyBox","Formik","Form","Field","ErrorMessage","Yup","EmployeeContext","UserContext","DateView","moment","Profile","getProfile","profile","setProfile","loading","getCountries","countries","categories","employeeInfo","category","country_id","email","mobile","photo","name","birthDate","address","city","state","zipCode","pref","imageUrl","preview","setPreview","initialValues","date","Date","id","country","validationSchema","object","shape","string","required","handleSubmit","values","format","formik","setFieldValue","e","URL","createObjectURL","target","files","currentTarget","form","field","value","val","map","index"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport DashboardSidebar from '../sidebar/sidebar.jsx';\nimport IMG01 from '../../../assets/images/patient.jpg';\nimport StickyBox from \"react-sticky-box\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// context\nimport { EmployeeContext } from \"../../../context/employee\";\nimport { UserContext } from \"../../../context/user\";\nimport DateView from \"react-datepicker\";\nimport moment from \"moment\";\n\nfunction Profile() {\n\n  // context values\n  const { getProfile, profile, setProfile, loading } = useContext(EmployeeContext);\n  const { getCountries, countries } = useContext(UserContext);\n  const { categories, employeeInfo } = profile;\n  const { category: { ...category }, country_id, email, mobile, photo, name, birthDate, address, city, state, zipCode, pref } = employeeInfo;\n  const imageUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n\n  const [preview, setPreview] = useState(\"\");\n\n  useEffect(() => {\n    getProfile();\n    getCountries();\n  }, [])\n\n  const initialValues = () => {\n    const date = (!birthDate || birthDate === \"0000-00-00 00:00:00\") ? new Date() : new Date(birthDate);\n    return {\n      pref: pref || '',\n      photo: photo || null,\n      name: name || '',\n      birthDate: date,\n      email: email || '',\n      mobile: mobile || '',\n      category: category.id || '',\n      country: country_id || '',\n      address: address || \"\",\n      city: city || \"\",\n      state: state || \"\",\n      zipCode: zipCode || \"\",\n    }\n  }\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required(\"Required\"),\n    email: Yup.string().required(\"Required\"),\n  });\n\n  const handleSubmit = async values => {\n    let { birthDate } = values;\n    birthDate = moment(birthDate).format(\"YYYY-MM-DD\");\n    await setProfile({ ...values, birthDate });\n  }\n\n  return (\n    <div>\n\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><a href=\"/home\">Home</a></li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">Profile Settings</li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Profile Settings</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <StickyBox offsetTop={20} offsetBottom={20}>\n                < DashboardSidebar />\n              </StickyBox>\n            </div>\n\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <Formik\n                    initialValues={initialValues()}\n                    validationSchema={validationSchema}\n                    onSubmit={handleSubmit}\n                    validateOnChange={false}\n                    enableReinitialize={true}\n                  >\n                    {(formik) => {\n                      const { setFieldValue } = formik;\n                      return (\n                        <Form>\n                          <div className=\"row form-row\">\n                            <div className=\"col-12 col-md-12\">\n                              <div className=\"form-group\">\n                                <div className=\"change-avatar\">\n                                  <div className=\"profile-img\">\n                                    <img src={preview || imageUrl} alt=\"User\" />\n                                  </div>\n                                  <div className=\"upload-img\">\n                                    <div className=\"change-photo-btn\">\n                                      <span><i className=\"fa fa-upload\"></i> Upload Photo</span>\n                                      <Field type=\"file\" name=\"file\" className=\"upload\" onChange={(e) => {\n                                        setPreview(URL.createObjectURL(e.target.files[0]));\n                                        setFieldValue(\"photo\", e.currentTarget.files[0]);\n                                      }}\n                                      />\n                                    </div>\n                                    <small className=\"form-text text-muted\">Allowed JPG, GIF or PNG. Max size of 2MB</small>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-12\">\n                              <div className=\"form-group\">\n                                <label>Pref</label>\n                                <Field as=\"textarea\" name=\"pref\" className=\"form-control\" rows=\"5\"></Field>\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Name</label>\n                                <Field type=\"text\" name=\"name\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Date of Birth</label>\n                                <div className=\"cal-icon\">\n                                  <Field name=\"birthDate\">\n                                    {\n                                      ({ form, field }) => {\n                                        const { setFieldValue } = form;\n                                        const { value } = field;\n                                        return <DateView\n                                          {...field}\n                                          className=\"form-control datetimepicker\"\n                                          placeholderText=\"Click to select a birth date\"\n                                          maxDate={new Date()}\n                                          selected={value}\n                                          dateFormat=\"yyyy-MM-dd\"\n                                          showYearDropdown\n                                          onChange={(val) => setFieldValue(\"birthDate\", val)}\n                                        />\n                                      }\n                                    }\n                                  </Field>\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Email ID</label>\n                                <Field type=\"email\" name=\"email\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Mobile</label>\n                                <Field type=\"number\" name=\"mobile\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Category</label>\n                                <Field as=\"select\" name=\"category\" className=\"form-control\">\n                                  {\n                                    categories.map((category) => {\n                                      return (\n                                        <option key={category.id} value={category.id}>\n                                          {category.name}\n                                        </option>\n                                      );\n                                    })\n                                  }\n                                </Field>\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Country</label>\n                                <Field as=\"select\" name=\"country\" className=\"form-control\">\n                                  {\n                                    countries.map((country, index) => {\n                                      return (\n                                        <option key={index} value={country}>\n                                          {country}\n                                        </option>\n                                      );\n                                    })\n                                  }\n                                </Field>\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Address</label>\n                                <Field type=\"text\" name=\"address\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>City</label>\n                                <Field type=\"text\" name=\"city\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>State</label>\n                                <Field type=\"text\" name=\"state\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-12 col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Zip Code</label>\n                                <Field type=\"text\" name=\"zipCode\" className=\"form-control\" />\n                              </div>\n                            </div>\n\n                          </div>\n                          <div className=\"submit-section\">\n                            <button type=\"submit\" className=\"btn btn-primary submit-btn\">Save Changes</button>\n                          </div>\n                        </Form>\n                      )\n                    }}\n                  </Formik>\n\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}