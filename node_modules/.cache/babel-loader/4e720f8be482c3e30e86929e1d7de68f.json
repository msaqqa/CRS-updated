{"ast":null,"code":"import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,createContext}from'react';import axios from\"axios\";import history from\"../../history\";import{UserContext}from\"./user\";// Importing toastify module \nimport{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';toast.configure();// context\nvar EmployerContext=createContext();// provider\nvar EmployerProvider=/*#__PURE__*/function(_Component){_inherits(EmployerProvider,_Component);var _super=_createSuper(EmployerProvider);function EmployerProvider(){var _this;_classCallCheck(this,EmployerProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={url:\"http://excodeteam.com/crs/api/v1\",profile:{countries:[],employeeInfo:{}},categoriesListToken:[],employerJobs:[],job:{},proposals:{},jobStatus:\"\",lastProposals:[],total:{totalJobs:0,totalProposals:0,totalCompletedJobs:0},myEmployees:[],myEmployeeProfile:{},loading:false};_this.authHeader=function(){var user=JSON.parse(localStorage.getItem('user'));if(user&&user.token){return{Authorization:\"Bearer \".concat(user.token)};}else{// redirect to login page\nreturn{};}};_this.getProfile=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return axios({method:'get',url:\"\".concat(_this.state.url,\"/employee/get_profile\"),headers:_this.authHeader()}).then(function(res){var _res$data=res.data,categories=_res$data.categories,countries=_res$data.countries,data=_res$data.data;_this.setState({profile:{categories:categories,countries:countries,employeeInfo:data}});console.log(res);},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.setProfile=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref2){var photo,name,birthDate,email,mobile,country,address,city,state,zipCode,fd;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:photo=_ref2.photo,name=_ref2.name,birthDate=_ref2.birthDate,email=_ref2.email,mobile=_ref2.mobile,country=_ref2.country,address=_ref2.address,city=_ref2.city,state=_ref2.state,zipCode=_ref2.zipCode;fd=new FormData();fd.append(\"photo\",photo);fd.append(\"name\",name);fd.append(\"birthDate\",birthDate);fd.append(\"email\",email);fd.append(\"mobile\",mobile);fd.append(\"country_id\",country);fd.append(\"address\",address);fd.append(\"city\",city);fd.append(\"state\",state);fd.append(\"zipCode\",zipCode);_this.setState({loading:true});_context3.next=15;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employee/set_profile\"),headers:_this.authHeader(),data:fd}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){var userRefresh;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getProfile();case 2:userRefresh=_this.context.userRefresh;userRefresh(_this.state.profile.employeeInfo);toast.success('Success saved chenged',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref4.apply(this,arguments);};}(),function(error){console.log(error);});case 15:_this.setState({loading:false});case 16:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.getCategoriesListToken=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios({method:'get',url:\"\".concat(_this.state.url,\"/employer/add_job\"),headers:_this.authHeader()}).then(function(res){var data=res.data.data;var categoriesListToken=data;_this.setState({categoriesListToken:categoriesListToken});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context4.stop();}}},_callee4);}));_this.addJob=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(_ref6){var title,category,subCategory,details,offer,requirements,responsibilities,finishAt,image,fd;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:title=_ref6.title,category=_ref6.category,subCategory=_ref6.subCategory,details=_ref6.details,offer=_ref6.offer,requirements=_ref6.requirements,responsibilities=_ref6.responsibilities,finishAt=_ref6.finishAt,image=_ref6.image;console.log({title:title,category:category,details:details,offer:offer,requirements:requirements,responsibilities:responsibilities,finishAt:finishAt,image:image});fd=new FormData();fd.append(\"title\",title);fd.append(\"category_id\",category);fd.append(\"sub_category\",subCategory);fd.append(\"details\",details);fd.append(\"offer\",offer);fd.append(\"requirements\",requirements);fd.append(\"responsibility\",responsibilities);fd.append(\"finish_at\",finishAt);fd.append(\"image\",image);// for (var pair of fd.entries()) {\n//     console.log(pair[0]+ ', ' + pair[1]); \n// }\n_this.setState({loading:true});_context5.next=15;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/add_job\"),headers:_this.authHeader(),data:fd}).then(function(res){toast.success('Success Add Job',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 15:_this.setState({loading:false});case 16:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref7.apply(this,arguments);};}();_this.getEmployerJobs=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this.setState({loading:true,jobStatus:\"\"});_context6.next=3;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/jobs\"),headers:_this.authHeader()}).then(function(res){var data=res.data.data;var employerJobs=data;_this.setState({employerJobs:employerJobs});console.log(res);},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context6.stop();}}},_callee6);}));_this.getJobWithProposals=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_this.setState({loading:true});_context7.next=3;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/jobs\"),headers:_this.authHeader(),data:{\"job_id\":id}}).then(function(res){console.log(res);var _res$data2=res.data,job=_res$data2.job,proposals=_res$data2.proposals;_this.setState({job:job,proposals:proposals});},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x4){return _ref9.apply(this,arguments);};}();_this.closeJob=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/close_job\"),headers:_this.authHeader(),data:{\"job_id\":id}}).then(function(res){var _res$data3=res.data,data=_res$data3.data,job_status=_res$data3.job_status;_this.setState({employerJobs:data,jobStatus:job_status});toast.success('Success Closed Job',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x5){return _ref10.apply(this,arguments);};}();_this.openJob=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/open_job\"),headers:_this.authHeader(),data:{\"job_id\":id}}).then(function(res){var _res$data4=res.data,data=_res$data4.data,job_status=_res$data4.job_status;_this.setState({employerJobs:data,jobStatus:job_status});toast.success('Success Opened Job',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x6){return _ref11.apply(this,arguments);};}();_this.processJob=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/proccess_job\"),headers:_this.authHeader(),data:{\"job_id\":id}}).then(function(res){var _res$data5=res.data,data=_res$data5.data,job_status=_res$data5.job_status;_this.setState({employerJobs:data,jobStatus:job_status});toast.success('Success Processed Job',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x7){return _ref12.apply(this,arguments);};}();_this.deleteJob=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(id,status){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/delete_job\"),headers:_this.authHeader(),data:{\"job_id\":id}}).then(function(res){// const { data } = res.data;\ntoast.success('Success Delete Job',{autoClose:2000,position:toast.POSITION.TOP_CENTER});},function(error){console.log(error);});case 2:_this.getJobs(status);case 3:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x8,_x9){return _ref13.apply(this,arguments);};}();_this.getLastProposals=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_this.setState({loading:true});_context12.next=3;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer\"),headers:_this.authHeader()}).then(function(res){var _res$data6=res.data,data=_res$data6.data,total_jobs=_res$data6.total_jobs,total_proposals=_res$data6.total_proposals,total_complete_jobs=_res$data6.total_complete_jobs;var lastProposals=data;_this.setState({lastProposals:lastProposals,total:{totalJobs:total_jobs,totalProposals:total_proposals,totalCompletedJobs:total_complete_jobs}});console.log(res);},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context12.stop();}}},_callee12);}));_this.viewProposal=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(id){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/view_proposal\"),headers:_this.authHeader(),data:{\"proposal_id\":id}}).then(function(res){console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x10){return _ref15.apply(this,arguments);};}();_this.acceptProposal=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(id){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/accept_proposal\"),headers:_this.authHeader(),data:{\"proposal_id\":id}}).then(function(res){var data=res.data.data;var proposals=data;_this.setState({proposals:proposals});toast.success('Success Accepted Proposal',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x11){return _ref16.apply(this,arguments);};}();_this.selectProposal=/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(id){return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/select_proposal\"),headers:_this.authHeader(),data:{\"proposal_id\":id}}).then(function(res){var data=res.data.data;var proposals=data;_this.setState({proposals:proposals});toast.success('Success Selected Proposal',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x12){return _ref17.apply(this,arguments);};}();_this.rejectProposal=/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(id){return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/reject_proposal\"),headers:_this.authHeader(),data:{\"proposal_id\":id}}).then(function(res){var data=res.data.data;var proposals=data;_this.setState({proposals:proposals});toast.success('Success Rejected Proposal',{autoClose:2000,position:toast.POSITION.TOP_CENTER});console.log(res);},function(error){console.log(error);});case 2:case\"end\":return _context16.stop();}}},_callee16);}));return function(_x13){return _ref18.apply(this,arguments);};}();_this.getMyEmployees=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_this.setState({loading:true});_context17.next=3;return axios({method:'post',url:\"\".concat(_this.state.url,\"/employer/my_employees\"),headers:_this.authHeader()}).then(function(res){var data=res.data.data;var myEmployees=data;_this.setState({myEmployees:myEmployees});console.log(res);},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context17.stop();}}},_callee17);}));_this.getMyEmployeeProfile=/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(id){return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_this.setState({loading:true});_context18.next=3;return axios({method:'post',url:\"\".concat(_this.state.url,\"/admin/get_employees\"),headers:_this.authHeader(),data:{\"employee_id\":id}}).then(function(res){var _res$data7=res.data,data=_res$data7.data,prposals=_res$data7.prposals;_this.setState({myEmployeeProfile:data});console.log(res);},function(error){console.log(error);});case 3:_this.setState({loading:false});case 4:case\"end\":return _context18.stop();}}},_callee18);}));return function(_x14){return _ref20.apply(this,arguments);};}();return _this;}_createClass(EmployerProvider,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(EmployerContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{getProfile:this.getProfile,setProfile:this.setProfile,getCategoriesListToken:this.getCategoriesListToken,addJob:this.addJob,getEmployerJobs:this.getEmployerJobs,getJobWithProposals:this.getJobWithProposals,closeJob:this.closeJob,openJob:this.openJob,processJob:this.processJob,deleteJob:this.deleteJob,getLastProposals:this.getLastProposals,viewProposal:this.viewProposal,acceptProposal:this.acceptProposal,selectProposal:this.selectProposal,rejectProposal:this.rejectProposal,getMyEmployees:this.getMyEmployees,getMyEmployeeProfile:this.getMyEmployeeProfile})},this.props.children);}}]);return EmployerProvider;}(Component);// consumer\nvar EmployerConsumer=EmployerContext.Consumer;export{EmployerConsumer,EmployerContext};EmployerProvider.contextType=UserContext;export default EmployerProvider;","map":{"version":3,"sources":["E:/CSR-master/src/client/context/employer.js"],"names":["React","Component","createContext","axios","history","UserContext","toast","configure","EmployerContext","EmployerProvider","state","url","profile","countries","employeeInfo","categoriesListToken","employerJobs","job","proposals","jobStatus","lastProposals","total","totalJobs","totalProposals","totalCompletedJobs","myEmployees","myEmployeeProfile","loading","authHeader","user","JSON","parse","localStorage","getItem","token","Authorization","getProfile","setState","method","headers","then","res","data","categories","console","log","error","setProfile","photo","name","birthDate","email","mobile","country","address","city","zipCode","fd","FormData","append","userRefresh","context","success","autoClose","position","POSITION","TOP_CENTER","getCategoriesListToken","addJob","title","category","subCategory","details","offer","requirements","responsibilities","finishAt","image","getEmployerJobs","getJobWithProposals","id","closeJob","job_status","openJob","processJob","deleteJob","status","getJobs","getLastProposals","total_jobs","total_proposals","total_complete_jobs","viewProposal","acceptProposal","selectProposal","rejectProposal","getMyEmployees","getMyEmployeeProfile","prposals","props","children","EmployerConsumer","Consumer","contextType"],"mappings":"k7BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,aAA3B,KAAgD,OAAhD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAASC,WAAT,KAA4B,QAA5B,CACA;AACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,CACAA,KAAK,CAACC,SAAN,GAEA;AACA,GAAMC,CAAAA,eAAe,CAAGN,aAAa,EAArC,CAEA;GACMO,CAAAA,gB,mWAEFC,K,CAAQ,CACJC,GAAG,CAAE,kCADD,CAEJC,OAAO,CAAE,CACLC,SAAS,CAAE,EADN,CAELC,YAAY,CAAE,EAFT,CAFL,CAMJC,mBAAmB,CAAE,EANjB,CAOJC,YAAY,CAAE,EAPV,CAQJC,GAAG,CAAE,EARD,CASJC,SAAS,CAAE,EATP,CAUJC,SAAS,CAAE,EAVP,CAWJC,aAAa,CAAE,EAXX,CAYJC,KAAK,CAAE,CACHC,SAAS,CAAE,CADR,CAEHC,cAAc,CAAE,CAFb,CAGHC,kBAAkB,CAAE,CAHjB,CAZH,CAiBJC,WAAW,CAAE,EAjBT,CAkBJC,iBAAiB,CAAE,EAlBf,CAmBJC,OAAO,CAAE,KAnBL,C,OAsBRC,U,CAAa,UAAM,CACf,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CACA,GAAIJ,IAAI,EAAIA,IAAI,CAACK,KAAjB,CAAwB,CACpB,MAAO,CAAEC,aAAa,kBAAYN,IAAI,CAACK,KAAjB,CAAf,CAAP,CACH,CAFD,IAEO,CACH;AACA,MAAO,EAAP,CACH,CACJ,C,OAEDE,U,sEAAa,mIACT,MAAKC,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EADS,sBAEHxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,KADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,yBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAAD,CAAL,CAIHY,IAJG,CAKF,SAAAC,GAAG,CAAI,CACH,cAAwCA,GAAG,CAACC,IAA5C,CAAQC,UAAR,WAAQA,UAAR,CAAoB9B,SAApB,WAAoBA,SAApB,CAA+B6B,IAA/B,WAA+BA,IAA/B,CACA,MAAKL,QAAL,CAAc,CACVzB,OAAO,CAAE,CACL+B,UAAU,CAAVA,UADK,CAEL9B,SAAS,CAATA,SAFK,CAGLC,YAAY,CAAE4B,IAHT,CADC,CAAd,EAOAE,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAfC,CAgBF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAlBC,CAFG,QAsBT,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EAtBS,sD,SAyBboB,U,2FAAa,yNAASC,KAAT,OAASA,KAAT,CAAgBC,IAAhB,OAAgBA,IAAhB,CAAsBC,SAAtB,OAAsBA,SAAtB,CAAiCC,KAAjC,OAAiCA,KAAjC,CAAwCC,MAAxC,OAAwCA,MAAxC,CAAgDC,OAAhD,OAAgDA,OAAhD,CAAyDC,OAAzD,OAAyDA,OAAzD,CAAkEC,IAAlE,OAAkEA,IAAlE,CAAwE7C,KAAxE,OAAwEA,KAAxE,CAA+E8C,OAA/E,OAA+EA,OAA/E,CACHC,EADG,CACE,GAAIC,CAAAA,QAAJ,EADF,CAETD,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBX,KAAnB,EACAS,EAAE,CAACE,MAAH,CAAU,MAAV,CAAkBV,IAAlB,EACAQ,EAAE,CAACE,MAAH,CAAU,WAAV,CAAuBT,SAAvB,EACAO,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBR,KAAnB,EACAM,EAAE,CAACE,MAAH,CAAU,QAAV,CAAoBP,MAApB,EACAK,EAAE,CAACE,MAAH,CAAU,YAAV,CAAwBN,OAAxB,EACAI,EAAE,CAACE,MAAH,CAAU,SAAV,CAAqBL,OAArB,EACAG,EAAE,CAACE,MAAH,CAAU,MAAV,CAAkBJ,IAAlB,EACAE,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBjD,KAAnB,EACA+C,EAAE,CAACE,MAAH,CAAU,SAAV,CAAqBH,OAArB,EAEA,MAAKnB,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EAbS,wBAcHxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,yBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAEe,EAJE,CAAD,CAAL,CAKHjB,IALG,2FAMF,kBAAMC,GAAN,6JACU,OAAKL,UAAL,EADV,QAEYwB,WAFZ,CAE4B,MAAKC,OAFjC,CAEYD,WAFZ,CAGIA,WAAW,CAAC,MAAKlD,KAAL,CAAWE,OAAX,CAAmBE,YAApB,CAAX,CACAR,KAAK,CAACwD,OAAN,CAAc,uBAAd,CAAuC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAAvC,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EALJ,wDANE,iEAaF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAfC,CAdG,SA+BT,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EA/BS,yD,sEAkCbwC,sB,sEAAyB,+JACfhE,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,KADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,qBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAAD,CAAL,CAIHY,IAJG,CAKF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAM3B,CAAAA,mBAAmB,CAAG2B,IAA5B,CACA,MAAKL,QAAL,CAAc,CAAEtB,mBAAmB,CAAnBA,mBAAF,CAAd,EACA6B,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAVC,CAWF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAbC,CADe,yD,SAkBzBsB,M,2FAAS,0OAASC,KAAT,OAASA,KAAT,CAAgBC,QAAhB,OAAgBA,QAAhB,CAA0BC,WAA1B,OAA0BA,WAA1B,CAAuCC,OAAvC,OAAuCA,OAAvC,CAAgDC,KAAhD,OAAgDA,KAAhD,CAAuDC,YAAvD,OAAuDA,YAAvD,CAAqEC,gBAArE,OAAqEA,gBAArE,CAAuFC,QAAvF,OAAuFA,QAAvF,CAAiGC,KAAjG,OAAiGA,KAAjG,CACLjC,OAAO,CAACC,GAAR,CAAY,CAAEwB,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAmBE,OAAO,CAAPA,OAAnB,CAA4BC,KAAK,CAALA,KAA5B,CAAmCC,YAAY,CAAZA,YAAnC,CAAiDC,gBAAgB,CAAhBA,gBAAjD,CAAmEC,QAAQ,CAARA,QAAnE,CAA6EC,KAAK,CAALA,KAA7E,CAAZ,EACMpB,EAFD,CAEM,GAAIC,CAAAA,QAAJ,EAFN,CAGLD,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBU,KAAnB,EACAZ,EAAE,CAACE,MAAH,CAAU,aAAV,CAAyBW,QAAzB,EACAb,EAAE,CAACE,MAAH,CAAU,cAAV,CAA0BY,WAA1B,EACAd,EAAE,CAACE,MAAH,CAAU,SAAV,CAAqBa,OAArB,EACAf,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBc,KAAnB,EACAhB,EAAE,CAACE,MAAH,CAAU,cAAV,CAA0Be,YAA1B,EACAjB,EAAE,CAACE,MAAH,CAAU,gBAAV,CAA4BgB,gBAA5B,EACAlB,EAAE,CAACE,MAAH,CAAU,WAAV,CAAuBiB,QAAvB,EACAnB,EAAE,CAACE,MAAH,CAAU,OAAV,CAAmBkB,KAAnB,EACA;AACA;AACA;AACA,MAAKxC,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EAfK,wBAgBCxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,qBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAEe,EAJE,CAAD,CAAL,CAKHjB,IALG,CAMF,SAAAC,GAAG,CAAI,CACHnC,KAAK,CAACwD,OAAN,CAAc,iBAAd,CAAiC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAAjC,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CATC,CAUF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAZC,CAhBD,SA8BL,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EA9BK,yD,uEAiCTmD,e,sEAAkB,wIACd,MAAKzC,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAiBR,SAAS,CAAE,EAA5B,CAAd,EADc,uBAERhB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,kBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAAD,CAAL,CAIHY,IAJG,CAKF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAM1B,CAAAA,YAAY,CAAG0B,IAArB,CACA,MAAKL,QAAL,CAAc,CAAErB,YAAY,CAAZA,YAAF,CAAd,EACA4B,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAVC,CAWF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAbC,CAFQ,QAiBd,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EAjBc,wD,SAoBlBoD,mB,2FAAsB,kBAAOC,EAAP,sHAClB,MAAK3C,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EADkB,uBAEZxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,kBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,SAAUsC,EAAZ,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACHG,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACA,eAA2BA,GAAG,CAACC,IAA/B,CAAQzB,GAAR,YAAQA,GAAR,CAAaC,SAAb,YAAaA,SAAb,CACA,MAAKmB,QAAL,CAAc,CACVpB,GAAG,CAAHA,GADU,CAEVC,SAAS,CAATA,SAFU,CAAd,EAIH,CAbC,CAcF,SAAA4B,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAhBC,CAFY,QAoBlB,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EApBkB,wD,uEAuBtBsD,Q,4FAAW,kBAAOD,EAAP,6IACD7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,uBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,SAAUsC,EAAZ,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,eAA6BA,GAAG,CAACC,IAAjC,CAAQA,IAAR,YAAQA,IAAR,CAAcwC,UAAd,YAAcA,UAAd,CACA,MAAK7C,QAAL,CAAc,CAAErB,YAAY,CAAE0B,IAAhB,CAAsBvB,SAAS,CAAE+D,UAAjC,CAAd,EACA5E,KAAK,CAACwD,OAAN,CAAc,oBAAd,CAAoC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAApC,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAXC,CAYF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAdC,CADC,yD,wEAmBXqC,O,4FAAU,kBAAOH,EAAP,6IACA7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,sBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,SAAUsC,EAAZ,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,eAA6BA,GAAG,CAACC,IAAjC,CAAQA,IAAR,YAAQA,IAAR,CAAcwC,UAAd,YAAcA,UAAd,CACA,MAAK7C,QAAL,CAAc,CAAErB,YAAY,CAAE0B,IAAhB,CAAsBvB,SAAS,CAAE+D,UAAjC,CAAd,EACA5E,KAAK,CAACwD,OAAN,CAAc,oBAAd,CAAoC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAApC,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAXC,CAYF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAdC,CADA,yD,wEAmBVsC,U,4FAAa,mBAAOJ,EAAP,kJACH7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,0BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,SAAUsC,EAAZ,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,eAA6BA,GAAG,CAACC,IAAjC,CAAQA,IAAR,YAAQA,IAAR,CAAcwC,UAAd,YAAcA,UAAd,CACA,MAAK7C,QAAL,CAAc,CAAErB,YAAY,CAAE0B,IAAhB,CAAsBvB,SAAS,CAAE+D,UAAjC,CAAd,EACA5E,KAAK,CAACwD,OAAN,CAAc,uBAAd,CAAuC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAAvC,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAXC,CAYF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAdC,CADG,2D,wEAmBbuC,S,4FAAY,mBAAOL,EAAP,CAAWM,MAAX,kJACFnF,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,wBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,SAAUsC,EAAZ,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH;AACAnC,KAAK,CAACwD,OAAN,CAAc,oBAAd,CAAoC,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAApC,EACH,CATC,CAUF,SAAApB,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAZC,CADE,QAeR,MAAKyC,OAAL,CAAaD,MAAb,EAfQ,0D,4EAkBZE,gB,sEAAmB,6IACf,MAAKnD,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EADe,wBAETxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,aAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAAD,CAAL,CAIHY,IAJG,CAKF,SAAAC,GAAG,CAAI,CACH,eAAmEA,GAAG,CAACC,IAAvE,CAAQA,IAAR,YAAQA,IAAR,CAAc+C,UAAd,YAAcA,UAAd,CAA0BC,eAA1B,YAA0BA,eAA1B,CAA2CC,mBAA3C,YAA2CA,mBAA3C,CACA,GAAMvE,CAAAA,aAAa,CAAGsB,IAAtB,CACA,MAAKL,QAAL,CAAc,CACVjB,aAAa,CAAbA,aADU,CAEVC,KAAK,CAAE,CACHC,SAAS,CAAEmE,UADR,CAEHlE,cAAc,CAAEmE,eAFb,CAGHlE,kBAAkB,CAAEmE,mBAHjB,CAFG,CAAd,EAQA/C,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAjBC,CAkBF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CApBC,CAFS,QAwBf,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EAxBe,0D,SA2BnBiE,Y,4FAAe,mBAAOZ,EAAP,kJACL7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,2BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,cAAesC,EAAjB,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACHG,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CARC,CASF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAXC,CADK,2D,yEAgBf+C,c,4FAAiB,mBAAOb,EAAP,kJACP7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,6BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,cAAesC,EAAjB,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAMxB,CAAAA,SAAS,CAAGwB,IAAlB,CACA,MAAKL,QAAL,CAAc,CAAEnB,SAAS,CAATA,SAAF,CAAd,EACAZ,KAAK,CAACwD,OAAN,CAAc,2BAAd,CAA2C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAA3C,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAZC,CAaF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAfC,CADO,2D,yEAoBjBgD,c,4FAAiB,mBAAOd,EAAP,kJACP7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,6BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,cAAesC,EAAjB,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAMxB,CAAAA,SAAS,CAAGwB,IAAlB,CACA,MAAKL,QAAL,CAAc,CAAEnB,SAAS,CAATA,SAAF,CAAd,EACAZ,KAAK,CAACwD,OAAN,CAAc,2BAAd,CAA2C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAA3C,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAZC,CAaF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAfC,CADO,2D,yEAoBjBiD,c,4FAAiB,mBAAOf,EAAP,kJACP7E,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,6BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,cAAesC,EAAjB,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAMxB,CAAAA,SAAS,CAAGwB,IAAlB,CACA,MAAKL,QAAL,CAAc,CAAEnB,SAAS,CAATA,SAAF,CAAd,EACAZ,KAAK,CAACwD,OAAN,CAAc,2BAAd,CAA2C,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE1D,KAAK,CAAC2D,QAAN,CAAeC,UAA5C,CAA3C,EACAtB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAZC,CAaF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAfC,CADO,2D,yEAoBjBkD,c,sEAAiB,6IACb,MAAK3D,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EADa,wBAEPxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,0BAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAAD,CAAL,CAIHY,IAJG,CAKF,SAAAC,GAAG,CAAI,CACH,GAAQC,CAAAA,IAAR,CAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR,CACA,GAAMjB,CAAAA,WAAW,CAAGiB,IAApB,CACA,MAAKL,QAAL,CAAc,CAAEZ,WAAW,CAAXA,WAAF,CAAd,EACAmB,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAVC,CAWF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAbC,CAFO,QAiBb,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EAjBa,0D,SAqBjBsE,oB,4FAAuB,mBAAOjB,EAAP,0HACnB,MAAK3C,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EADmB,wBAEbxB,CAAAA,KAAK,CAAC,CACRmC,MAAM,CAAE,MADA,CAER3B,GAAG,WAAK,MAAKD,KAAL,CAAWC,GAAhB,wBAFK,CAGR4B,OAAO,CAAE,MAAKX,UAAL,EAHD,CAIRc,IAAI,CAAE,CAAE,cAAesC,EAAjB,CAJE,CAAD,CAAL,CAKHxC,IALG,CAMF,SAAAC,GAAG,CAAI,CACH,eAA2BA,GAAG,CAACC,IAA/B,CAAQA,IAAR,YAAQA,IAAR,CAAcwD,QAAd,YAAcA,QAAd,CACA,MAAK7D,QAAL,CAAc,CACVX,iBAAiB,CAAEgB,IADT,CAAd,EAGAE,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACH,CAZC,CAaF,SAAAK,KAAK,CAAI,CACLF,OAAO,CAACC,GAAR,CAAYC,KAAZ,EACH,CAfC,CAFa,QAmBnB,MAAKT,QAAL,CAAc,CAAEV,OAAO,CAAE,KAAX,CAAd,EAnBmB,0D,oIAsBvB,iBAAS,CACL,mBACI,oBAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,gCACxB,KAAKjB,KADmB,MAG3B0B,UAAU,CAAE,KAAKA,UAHU,CAI3BW,UAAU,CAAE,KAAKA,UAJU,CAM3BoB,sBAAsB,CAAE,KAAKA,sBANF,CAO3BC,MAAM,CAAE,KAAKA,MAPc,CAQ3BU,eAAe,CAAE,KAAKA,eARK,CAS3BC,mBAAmB,CAAE,KAAKA,mBATC,CAW3BE,QAAQ,CAAE,KAAKA,QAXY,CAY3BE,OAAO,CAAE,KAAKA,OAZa,CAa3BC,UAAU,CAAE,KAAKA,UAbU,CAc3BC,SAAS,CAAE,KAAKA,SAdW,CAgB3BG,gBAAgB,CAAE,KAAKA,gBAhBI,CAkB3BI,YAAY,CAAE,KAAKA,YAlBQ,CAmB3BC,cAAc,CAAE,KAAKA,cAnBM,CAoB3BC,cAAc,CAAE,KAAKA,cApBM,CAqB3BC,cAAc,CAAE,KAAKA,cArBM,CAuB3BC,cAAc,CAAE,KAAKA,cAvBM,CAwB3BC,oBAAoB,CAAE,KAAKA,oBAxBA,EAA/B,EA0BK,KAAKE,KAAL,CAAWC,QA1BhB,CADJ,CA8BH,C,8BAvb0BnG,S,EA0b/B;AACA,GAAMoG,CAAAA,gBAAgB,CAAG7F,eAAe,CAAC8F,QAAzC,CAEA,OAASD,gBAAT,CAA2B7F,eAA3B,EACAC,gBAAgB,CAAC8F,WAAjB,CAA+BlG,WAA/B,CACA,cAAeI,CAAAA,gBAAf","sourcesContent":["import React, { Component, createContext } from 'react';\nimport axios from \"axios\";\nimport history from \"../../history\";\nimport { UserContext } from \"./user\";\n// Importing toastify module \nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\ntoast.configure();\n\n// context\nconst EmployerContext = createContext();\n\n// provider\nclass EmployerProvider extends Component {\n\n    state = {\n        url: \"http://excodeteam.com/crs/api/v1\",\n        profile: {\n            countries: [],\n            employeeInfo: {},\n        },\n        categoriesListToken: [],\n        employerJobs: [],\n        job: {},\n        proposals: {},\n        jobStatus: \"\",\n        lastProposals: [],\n        total: {\n            totalJobs: 0,\n            totalProposals: 0,\n            totalCompletedJobs: 0,\n        },\n        myEmployees: [],\n        myEmployeeProfile: {},\n        loading: false,\n    }\n\n    authHeader = () => {\n        const user = JSON.parse(localStorage.getItem('user'));\n        if (user && user.token) {\n            return { Authorization: `Bearer ${user.token}` };\n        } else {\n            // redirect to login page\n            return {};\n        }\n    }\n\n    getProfile = async () => {\n        this.setState({ loading: true });\n        await axios({\n            method: 'get',\n            url: `${this.state.url}/employee/get_profile`,\n            headers: this.authHeader(),\n        }).then(\n            res => {\n                const { categories, countries, data } = res.data;\n                this.setState({\n                    profile: {\n                        categories,\n                        countries,\n                        employeeInfo: data,\n                    }\n                })\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    setProfile = async ({ photo, name, birthDate, email, mobile, country, address, city, state, zipCode }) => {\n        const fd = new FormData();\n        fd.append(\"photo\", photo);\n        fd.append(\"name\", name);\n        fd.append(\"birthDate\", birthDate);\n        fd.append(\"email\", email);\n        fd.append(\"mobile\", mobile);\n        fd.append(\"country_id\", country);\n        fd.append(\"address\", address);\n        fd.append(\"city\", city);\n        fd.append(\"state\", state);\n        fd.append(\"zipCode\", zipCode);\n\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employee/set_profile`,\n            headers: this.authHeader(),\n            data: fd,\n        }).then(\n            async res => {\n                await this.getProfile();\n                const { userRefresh } = this.context;\n                userRefresh(this.state.profile.employeeInfo);\n                toast.success('Success saved chenged', { autoClose: 2000, position: toast.POSITION.TOP_CENTER })\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    getCategoriesListToken = async () => {\n        await axios({\n            method: 'get',\n            url: `${this.state.url}/employer/add_job`,\n            headers: this.authHeader(),\n        }).then(\n            res => {\n                const { data } = res.data;\n                const categoriesListToken = data;\n                this.setState({ categoriesListToken });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    addJob = async ({ title, category, subCategory, details, offer, requirements, responsibilities, finishAt, image }) => {\n        console.log({ title, category, details, offer, requirements, responsibilities, finishAt, image });\n        const fd = new FormData();\n        fd.append(\"title\", title);\n        fd.append(\"category_id\", category);\n        fd.append(\"sub_category\", subCategory);\n        fd.append(\"details\", details);\n        fd.append(\"offer\", offer);\n        fd.append(\"requirements\", requirements);\n        fd.append(\"responsibility\", responsibilities);\n        fd.append(\"finish_at\", finishAt);\n        fd.append(\"image\", image);\n        // for (var pair of fd.entries()) {\n        //     console.log(pair[0]+ ', ' + pair[1]); \n        // }\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/add_job`,\n            headers: this.authHeader(),\n            data: fd,\n        }).then(\n            res => {\n                toast.success('Success Add Job', { autoClose: 2000, position: toast.POSITION.TOP_CENTER })\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    getEmployerJobs = async () => {\n        this.setState({ loading: true, jobStatus: \"\" });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/jobs`,\n            headers: this.authHeader(),\n        }).then(\n            res => {\n                const { data } = res.data;\n                const employerJobs = data;\n                this.setState({ employerJobs });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    getJobWithProposals = async (id) => {\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/jobs`,\n            headers: this.authHeader(),\n            data: { \"job_id\": id },\n        }).then(\n            res => {\n                console.log(res);\n                const { job, proposals } = res.data;\n                this.setState({\n                    job,\n                    proposals\n                });\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    closeJob = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/close_job`,\n            headers: this.authHeader(),\n            data: { \"job_id\": id },\n        }).then(\n            res => {\n                const { data, job_status } = res.data;\n                this.setState({ employerJobs: data, jobStatus: job_status });\n                toast.success('Success Closed Job', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    openJob = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/open_job`,\n            headers: this.authHeader(),\n            data: { \"job_id\": id },\n        }).then(\n            res => {\n                const { data, job_status } = res.data;\n                this.setState({ employerJobs: data, jobStatus: job_status });\n                toast.success('Success Opened Job', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    processJob = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/proccess_job`,\n            headers: this.authHeader(),\n            data: { \"job_id\": id },\n        }).then(\n            res => {\n                const { data, job_status } = res.data;\n                this.setState({ employerJobs: data, jobStatus: job_status });\n                toast.success('Success Processed Job', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    deleteJob = async (id, status) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/delete_job`,\n            headers: this.authHeader(),\n            data: { \"job_id\": id },\n        }).then(\n            res => {\n                // const { data } = res.data;\n                toast.success('Success Delete Job', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n            },\n            error => {\n                console.log(error);\n            }\n        );\n        this.getJobs(status);\n    }\n\n    getLastProposals = async () => {\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer`,\n            headers: this.authHeader(),\n        }).then(\n            res => {\n                const { data, total_jobs, total_proposals, total_complete_jobs } = res.data;\n                const lastProposals = data;\n                this.setState({\n                    lastProposals,\n                    total: {\n                        totalJobs: total_jobs,\n                        totalProposals: total_proposals,\n                        totalCompletedJobs: total_complete_jobs,\n                    }\n                });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    viewProposal = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/view_proposal`,\n            headers: this.authHeader(),\n            data: { \"proposal_id\": id },\n        }).then(\n            res => {\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    acceptProposal = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/accept_proposal`,\n            headers: this.authHeader(),\n            data: { \"proposal_id\": id },\n        }).then(\n            res => {\n                const { data } = res.data;\n                const proposals = data;\n                this.setState({ proposals });\n                toast.success('Success Accepted Proposal', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    selectProposal = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/select_proposal`,\n            headers: this.authHeader(),\n            data: { \"proposal_id\": id },\n        }).then(\n            res => {\n                const { data } = res.data;\n                const proposals = data;\n                this.setState({ proposals });\n                toast.success('Success Selected Proposal', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    rejectProposal = async (id) => {\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/reject_proposal`,\n            headers: this.authHeader(),\n            data: { \"proposal_id\": id },\n        }).then(\n            res => {\n                const { data } = res.data;\n                const proposals = data;\n                this.setState({ proposals });\n                toast.success('Success Rejected Proposal', { autoClose: 2000, position: toast.POSITION.TOP_CENTER });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n    }\n\n    getMyEmployees = async () => {\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/employer/my_employees`,\n            headers: this.authHeader(),\n        }).then(\n            res => {\n                const { data } = res.data;\n                const myEmployees = data;\n                this.setState({ myEmployees });\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n\n    }\n\n    getMyEmployeeProfile = async (id) => {\n        this.setState({ loading: true });\n        await axios({\n            method: 'post',\n            url: `${this.state.url}/admin/get_employees`,\n            headers: this.authHeader(),\n            data: { \"employee_id\": id }\n        }).then(\n            res => {\n                const { data, prposals } = res.data;\n                this.setState({\n                    myEmployeeProfile: data\n                })\n                console.log(res);\n            },\n            error => {\n                console.log(error);\n            }\n        )\n        this.setState({ loading: false });\n    }\n\n    render() {\n        return (\n            <EmployerContext.Provider value={{\n                ...this.state,\n\n                getProfile: this.getProfile,\n                setProfile: this.setProfile,\n\n                getCategoriesListToken: this.getCategoriesListToken,\n                addJob: this.addJob,\n                getEmployerJobs: this.getEmployerJobs,\n                getJobWithProposals: this.getJobWithProposals,\n\n                closeJob: this.closeJob,\n                openJob: this.openJob,\n                processJob: this.processJob,\n                deleteJob: this.deleteJob,\n\n                getLastProposals: this.getLastProposals,\n\n                viewProposal: this.viewProposal,\n                acceptProposal: this.acceptProposal,\n                selectProposal: this.selectProposal,\n                rejectProposal: this.rejectProposal,\n\n                getMyEmployees: this.getMyEmployees,\n                getMyEmployeeProfile: this.getMyEmployeeProfile,\n            }}>\n                {this.props.children}\n            </EmployerContext.Provider>\n        )\n    }\n}\n\n// consumer\nconst EmployerConsumer = EmployerContext.Consumer;\n\nexport { EmployerConsumer, EmployerContext };\nEmployerProvider.contextType = UserContext;\nexport default EmployerProvider;"]},"metadata":{},"sourceType":"module"}