{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSR-master\\\\src\\\\admin\\\\components\\\\categories\\\\subcategories\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Table } from 'antd';\nimport 'antd/dist/antd.css';\nimport { Link } from 'react-router-dom';\nimport SidebarNav from '../../sidebar';\nimport { Modal } from 'react-bootstrap';\nimport { itemRender, onShowSizeChange } from \"../../../components/paginationfunction\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport IMG01 from '../../../assets/images/specialities-01.png'; // context\n\nimport { AdminContext } from \"../../../context/admin\";\n\nclass SubCategories extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      show: null,\n      isEdit: false,\n      id: \"\",\n      name: \"\",\n      parent: \"\",\n      image: \"\"\n    };\n\n    this.componentDidMount = async () => {\n      const {\n        id\n      } = this.props.match.params;\n      const {\n        subCategories,\n        getSubCategories\n      } = this.context;\n\n      if (subCategories.length === 0) {\n        getSubCategories(id);\n      }\n\n      ;\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = id => {\n      this.setState({\n        show: id\n      });\n    };\n\n    this.handleAddBtn = () => {\n      this.setState({\n        id: \"\",\n        name: \"\",\n        parent: \"\",\n        image: \"\",\n        isEdit: false\n      });\n      this.handleShow('edit');\n    };\n\n    this.handleEditBtn = _ref => {\n      let {\n        id,\n        name,\n        parent,\n        image\n      } = _ref;\n      this.setState({\n        id,\n        name,\n        parent,\n        image,\n        isEdit: true\n      });\n      this.handleShow('edit');\n    };\n\n    this.handleDeleteBtn = id => {\n      this.setState({\n        id\n      });\n      this.handleShow('delete');\n    };\n\n    this.handleSubmitDelete = async () => {\n      const {\n        id\n      } = this.state;\n      const pageId = this.props.match.params.id;\n      const {\n        deleteCategory,\n        getSubCategories\n      } = this.context;\n      await deleteCategory(id);\n      getSubCategories(pageId);\n      this.handleClose();\n    };\n\n    this.initialValues = () => {\n      return {\n        name: this.state.name || '',\n        parent: this.state.parent || '',\n        image: null\n      };\n    };\n\n    this.validationSchema = () => {\n      const SUPPORTED_FORMATS = [\"image/jpg\", \"image/jpeg\", \"image/gif\", \"image/png\"];\n      return Yup.object().shape({\n        name: Yup.string().required(\"Required\"),\n        parent: Yup.string().required(\"Required\"),\n        image: Yup.mixed().required(\"Required\").test(\"fileFormat\", \"Unsupported Format\", value => value && SUPPORTED_FORMATS.includes(value.type))\n      });\n    };\n\n    this.handleSubmit = async values => {\n      console.log(values);\n      const {\n        id\n      } = this.state;\n      const pageId = this.props.match.params.id;\n      const {\n        updateCategory,\n        addCategory,\n        getSubCategories\n      } = this.context;\n      this.state.isEdit ? await updateCategory({\n        id,\n        ...values\n      }) : await addCategory(values);\n      getSubCategories(pageId);\n      this.handleClose();\n    };\n  }\n\n  render() {\n    const {\n      subCategories,\n      categories\n    } = this.context;\n    const data = subCategories;\n    const columns = [{\n      title: '#',\n      dataIndex: 'id',\n      sorter: (a, b) => a.id.length - b.id.length\n    }, {\n      title: 'Category',\n      dataIndex: 'name',\n      render: (text, _ref2) => {\n        let {\n          image,\n          name,\n          id\n        } = _ref2;\n        const imageUrl = image ? `http://joodya.com/crs/public/images/${image}` : IMG01;\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: imageUrl,\n          className: \"avatar-img\",\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 62\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }\n        }, name));\n      },\n      sorter: (a, b) => a.name.length - b.name.length\n    }, {\n      title: 'Actions',\n      dataIndex: 'id',\n      render: (id, record) => /*#__PURE__*/React.createElement(\"div\", {\n        className: \"actions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm bg-success-light\",\n        onClick: () => this.handleEditBtn(record),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fe fe-pencil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 104\n        }\n      }), \" Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm bg-danger-light\",\n        onClick: () => this.handleDeleteBtn(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fe fe-trash\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 101\n        }\n      }), \" Delete\"))\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SidebarNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-7 col-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, \"Sub Categories\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 53\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/categories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 60\n      }\n    }, \"Categories\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 21\n      }\n    }, \"Sub Categories\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-5 col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary float-right mt-2\",\n      onClick: this.handleAddBtn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, \"Add\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-striped\",\n      style: {\n        overflowX: 'auto'\n      },\n      columns: columns // bordered\n      ,\n      dataSource: data,\n      ascend: true,\n      rowKey: record => record.id,\n      showSizeChanger: true,\n      pagination: {\n        total: data.length,\n        showTotal: (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n        itemRender: itemRender\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 23\n      }\n    }))))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show === 'edit',\n      onHide: this.handleClose,\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 28\n      }\n    }, \"Category\"))), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Formik, {\n      initialValues: this.initialValues(),\n      validationSchema: this.validationSchema,\n      onSubmit: this.handleSubmit,\n      validateOnChange: false,\n      enableReinitialize: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, formik => {\n      const {\n        setFieldValue\n      } = formik;\n      return /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 29\n        }\n      }, \"Category Name\"), /*#__PURE__*/React.createElement(Field, {\n        type: \"text\",\n        name: \"name\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 29\n        }\n      }, \"Main Category\"), /*#__PURE__*/React.createElement(Field, {\n        as: \"select\",\n        name: \"parent\",\n        className: \"form-control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 31\n        }\n      }, \"Select Parent Category\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 31\n        }\n      }, \"Main Category\"), categories.map(category => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: category.id,\n          value: category.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 37\n          }\n        }, category.name);\n      })), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"parent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 29\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(Field, {\n        type: \"file\",\n        name: \"file\",\n        className: \"form-control\",\n        onChange: event => {\n          setFieldValue(\"image\", event.currentTarget.files[0]);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(ErrorMessage, {\n        name: \"image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 23\n        }\n      }, \"Save Changes\"));\n    }))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show === 'delete',\n      onHide: this.handleClose,\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-content p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    }, \"Are you sure want to delete?\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.handleSubmitDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }, \"Save \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      \"data-dismiss\": \"modal\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, \"Close\"))))));\n  }\n\n}\n\nSubCategories.contextType = AdminContext;\nexport default SubCategories;","map":{"version":3,"sources":["E:/CSR-master/src/admin/components/categories/subcategories/index.jsx"],"names":["React","Component","Table","Link","SidebarNav","Modal","itemRender","onShowSizeChange","Formik","Form","Field","ErrorMessage","Yup","IMG01","AdminContext","SubCategories","state","show","isEdit","id","name","parent","image","componentDidMount","props","match","params","subCategories","getSubCategories","context","length","handleClose","setState","handleShow","handleAddBtn","handleEditBtn","handleDeleteBtn","handleSubmitDelete","pageId","deleteCategory","initialValues","validationSchema","SUPPORTED_FORMATS","object","shape","string","required","mixed","test","value","includes","type","handleSubmit","values","console","log","updateCategory","addCategory","render","categories","data","columns","title","dataIndex","sorter","a","b","text","imageUrl","record","overflowX","total","showTotal","range","showSizeChanger","formik","setFieldValue","map","category","event","currentTarget","files","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table } from 'antd';\nimport 'antd/dist/antd.css';\nimport { Link } from 'react-router-dom';\nimport SidebarNav from '../../sidebar';\nimport { Modal } from 'react-bootstrap';\nimport {itemRender,onShowSizeChange} from \"../../../components/paginationfunction\";\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport IMG01 from '../../../assets/images/specialities-01.png';\n// context\nimport { AdminContext } from \"../../../context/admin\";\n\nclass SubCategories extends Component{\n  state = {\n    show: null,\n    isEdit: false,\n    id: \"\",\n    name: \"\",\n    parent: \"\",\n    image: \"\",\n\t}\n\n\tcomponentDidMount = async () => {\n    const {id} = this.props.match.params;\n    const {subCategories, getSubCategories} = this.context;\n    if(subCategories.length===0){getSubCategories(id)};\n  }\n\n\thandleClose=()=>{\n\t\tthis.setState({\n\t\t\tshow:false\n\t\t});\n\t}\n\n\thandleShow=(id)=>{\n\t\tthis.setState({\n\t\t\tshow:id\n\t\t});\n  }\n\n  handleAddBtn = () => {\n    this.setState({\n      id: \"\",\n      name: \"\",\n      parent: \"\",\n      image: \"\",\n      isEdit: false\n    });\n    this.handleShow('edit');\n  }\n\n  handleEditBtn = ({id, name, parent, image}) => {\n    this.setState({\n      id,\n      name,\n      parent,\n      image,\n      isEdit: true\n    });\n    this.handleShow('edit');\n  }\n\n  handleDeleteBtn = (id) => {\n    this.setState({id});\n    this.handleShow('delete');\n  }\n\n  handleSubmitDelete = async () => {\n    const {id} = this.state;\n    const pageId = this.props.match.params.id;\n    const {deleteCategory, getSubCategories} = this.context;\n    await deleteCategory(id);\n    getSubCategories(pageId);\n    this.handleClose();\n  }\n\n  initialValues = () => {\n    return {\n      name: this.state.name || '',\n      parent: this.state.parent || '',\n      image: null,\n    }\n  }\n\n  validationSchema = () =>{\n     const SUPPORTED_FORMATS = [\n      \"image/jpg\",\n      \"image/jpeg\",\n      \"image/gif\",\n      \"image/png\"\n    ];\n\n    return Yup.object().shape({\n    name: Yup.string().required(\"Required\"),\n    parent: Yup.string().required(\"Required\"),\n    image: Yup\n        .mixed()\n        .required(\"Required\")\n        .test(\n          \"fileFormat\",\n          \"Unsupported Format\",\n          value => value && SUPPORTED_FORMATS.includes(value.type)\n        )\n    });\n  }\n\n  handleSubmit = async (values) => {\n    console.log(values);\n    const {id} = this.state;\n    const pageId = this.props.match.params.id;\n    const {updateCategory, addCategory, getSubCategories} = this.context;\n    this.state.isEdit? await updateCategory({id, ...values}) : await addCategory(values);\n    getSubCategories(pageId);\n    this.handleClose();\n  }\n\n  render(){\n    const {subCategories, categories} = this.context;\n\t\tconst data = subCategories;\n\n\t\tconst columns = [\n\t\t\t{\n\t\t\t  title: '#',\n\t\t\t  dataIndex: 'id',\n\t\t\t  sorter: (a, b) => a.id.length - b.id.length,\n\t\t\t},\n\t\t\t{\n\t\t\t  title: 'Category',\n        dataIndex: 'name',\n        render: (text, {image, name, id}) => {\n          const imageUrl = image? `http://joodya.com/crs/public/images/${image}` : IMG01;\n          return(\n            <h2 className=\"table-avatar\">\n              <Link to=\"#\" className=\"avatar avatar-sm mr-2\"><img src={imageUrl} className=\"avatar-img\" alt=\"\"  /></Link>\n              <Link to=\"#\">{name}</Link>\n            </h2>\n          )\n        },\n\t\t\t  sorter: (a, b) => a.name.length - b.name.length,\n\t\t\t},\n\t\t\t{\n        title: 'Actions',\n        dataIndex: 'id',\n\t\t\t  render: (id, record) => (\n          <div className=\"actions\">\n              <button className=\"btn btn-sm bg-success-light\" onClick={()=>this.handleEditBtn(record)}><i className=\"fe fe-pencil\"></i> Edit</button>\n              <button className=\"btn btn-sm bg-danger-light\" onClick={()=>this.handleDeleteBtn(id)}><i className=\"fe fe-trash\"></i> Delete</button>\n          </div>\n        ),\n\t\t\t},\n\t\t]\n\n    return(\n      <>\n        <SidebarNav />\n        <div className=\"page-wrapper\">\n          <div className=\"content container-fluid\">\n\n            <div className=\"page-header\">\n              <div className=\"row\">\n                <div className=\"col-sm-7 col-auto\">\n                  <h3 className=\"page-title\">Sub Categories</h3>\n                  <ul className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\"><Link to=\"/admin\">Dashboard</Link></li>\n                    <li className=\"breadcrumb-item active\"><Link to=\"/admin/categories\">Categories</Link></li>\n                    <li className=\"breadcrumb-item active\">Sub Categories</li>\n                  </ul>\n                </div>\n                <div className=\"col-sm-5 col\">\n                  <button className=\"btn btn-primary float-right mt-2\" onClick={this.handleAddBtn}>Add</button>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"table-responsive\">\n                      <Table className=\"table-striped\"\n                        style = {{overflowX : 'auto'}}\n                        columns={columns}\n                        // bordered\n                        dataSource={data}\n                        ascend={true}\n                        rowKey={record => record.id}\n                        showSizeChanger={true}\n                        pagination= { {total : data.length,\n                          showTotal : (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                          showSizeChanger : true,onShowSizeChange: onShowSizeChange ,itemRender : itemRender } }\n                        />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Edit Modal */}\n          <Modal show={this.state.show === 'edit'} onHide={this.handleClose} centered>\n            <Modal.Header closeButton>\n              <Modal.Title><h5 className=\"modal-title\">Category</h5></Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Formik\n                initialValues={this.initialValues()}\n                validationSchema={this.validationSchema}\n                onSubmit={this.handleSubmit}\n                validateOnChange={false}\n                enableReinitialize={true}\n              >\n                {(formik)=>{\n                  const {setFieldValue} = formik;\n                   return (\n                    <Form>\n                      <div className=\"row form-row\">\n                        <div className=\"col-12 col-sm-6\">\n                          <div className=\"form-group\">\n                            <label>Category Name</label>\n                            <Field type=\"text\" name=\"name\" className=\"form-control\" />\n                            <ErrorMessage name=\"name\" />\n                          </div>\n                        </div>\n                        <div className=\"col-12 col-sm-6\">\n                          <div className=\"form-group\">\n                            <label>Main Category</label>\n                            <Field as=\"select\" name=\"parent\" className=\"form-control\">\n                              <option value=\"\" disabled>Select Parent Category</option>\n                              <option value=\"0\">Main Category</option>\n                              {\n                                categories.map((category) => {\n                                  return (\n                                    <option key={category.id} value={category.id}>\n                                      {category.name}\n                                    </option>\n                                  );\n                                })\n                              }\n                            </Field>\n                            <ErrorMessage name=\"parent\" />\n                          </div>\n                        </div>\n                        <div className=\"col-12\">\n                          <div className=\"form-group\">\n                            <label>Image</label>\n                            <Field type=\"file\" name=\"file\" className=\"form-control\" onChange={(event)=>{\n                                setFieldValue(\"image\", event.currentTarget.files[0]);\n                              }}\n                            />\n                            <ErrorMessage name=\"image\" />\n                          </div>\n                        </div>\n                      </div>\n                      <button type=\"submit\" className=\"btn btn-primary btn-block\">Save Changes</button>\n                    </Form>\n                  )\n                }}\n              </Formik>\n            </Modal.Body>\n          </Modal>\n          {/* Edit Modal */}\n\n          {/* Delete Modal */}\n          <Modal show={this.state.show === 'delete'} onHide={this.handleClose} centered>\n            <Modal.Body className=\"text-center\">\n              <div className=\"form-content p-2\">\n                <h4 className=\"modal-title\">Delete</h4>\n                <p className=\"mb-4\">Are you sure want to delete?</p>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleSubmitDelete}>Save </button>\n                <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={()=>this.handleClose()}>Close</button>\n              </div>\n            </Modal.Body>\n          </Modal>\n          {/* Delete Modal */}\n        </div>\n      </>\n    )\n  }\n}\n\nSubCategories.contextType = AdminContext;\nexport default SubCategories;"]},"metadata":{},"sourceType":"module"}