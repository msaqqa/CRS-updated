{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from'react-router-dom';import{Table}from\"antd\";import'antd/dist/antd.css';import{itemRender,onShowSizeChange}from\"../../components/paginationfunction\";import moment from\"moment\";import IMG01 from\"../../assets/images/doctor-thumb-01.jpg\";// context\nimport{AdminContext}from\"../../context/admin\";import PageLoading from\"../loading/pageloading\";import{Modal}from'react-bootstrap';var Jobs=/*#__PURE__*/function(_Component){_inherits(Jobs,_Component);var _super=_createSuper(Jobs);function Jobs(){var _this;_classCallCheck(this,Jobs);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={id:'',show:null,status:''};_this.componentDidMount=function(){var _this$context=_this.context,getJobs=_this$context.getJobs,jobs=_this$context.jobs;var status=_this.props.match.params.status;_this.setState({status:status});if(jobs.length===0){getJobs(status);};};_this.handleSingleJob=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.context.getSingleJob(id);case 2:_this.props.history.push(\"/admin/single-job/\".concat(id));case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleDeleteBtn=function(id){_this.setState({id:id,show:true});};_this.handleClose=function(){_this.setState({show:false});};_this.handleEmployerProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.context.getEmployerProfile(id);case 2:_this.props.history.push(\"/admin/profile/employer\");case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Jobs,[{key:\"render\",value:function render(){var _this2=this;var status=this.props.match.params.status;var statusName=status===\"0\"?\"Opend\":status===\"1\"?\"Closed\":status===\"2\"?\"Processed\":\"Completed\";var _this$context2=this.context,jobs=_this$context2.jobs,loading=_this$context2.loading;var data=jobs;var imageUrl=\"http://excodeteam.com/crs/public/images/\";var columns=[{title:\"Job Name\",dataIndex:\"title\",render:function render(title,record){return/*#__PURE__*/React.createElement(\"h2\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return _this2.handleSingleJob(record.id);},className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"Job Image\",src:record.image?imageUrl+record.image:IMG01})),/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return _this2.handleSingleJob(record.id);}},title.substr(0,30)));},sorter:function sorter(a,b){return a.title.length-b.title.length;}},{title:\"Category\",dataIndex:\"category\",render:function render(category){return category?category.name:\"null\";},sorter:function sorter(a,b){return a.category.name.length-b.category.name.length;}},{title:\"Employer Name\",dataIndex:\"employer\",render:function render(_ref3){var name=_ref3.name,photo=_ref3.photo,id=_ref3.id;return/*#__PURE__*/React.createElement(\"h2\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"\",onClick:function onClick(){return _this2.handleEmployerProfile(id);},className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"Job Image\",src:photo?imageUrl+photo:IMG01})),/*#__PURE__*/React.createElement(Link,{to:\"\",onClick:function onClick(){return _this2.handleEmployerProfile(id);}},name));},sorter:function sorter(a,b){return a.employer.name.length-b.employer.name.length;}},{title:\"Posted At\",dataIndex:\"created_at\",render:function render(date){return moment(date).format(\"YYYY-MM-DD\");},sorter:function sorter(a,b){return a.created_at.length-b.created_at.length;}},{title:\"Proposals Count\",dataIndex:\"proposals_count\",render:function render(proposals_count){return\"Proposals (\".concat(proposals_count,\")\");}},{title:\"Details\",dataIndex:\"id\",render:function render(id){return/*#__PURE__*/React.createElement(\"div\",{className:\"actions\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.handleSingleJob(id);},className:\"btn btn-sm bg-info-light\"},\"View\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-danger-light\",onClick:function onClick(){return _this2.handleDeleteBtn(id);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fe fe-trash\"}),\" Delete\"));}}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"page-title\"},\"Jobs\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/admin\"},\"Dashboard\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\"},statusName,\" Jobs\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},loading?/*#__PURE__*/React.createElement(PageLoading,{loading:loading}):/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:data,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:data.length,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}})))))),/*#__PURE__*/React.createElement(Modal,{show:this.state.show,onHide:this.handleClose,centered:true},/*#__PURE__*/React.createElement(Modal.Body,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-content p-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},\"Delete\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Are you sure want to delete?\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){_this2.context.deleteJob(_this2.state.id,_this2.state.status);_this2.handleClose();}},\"Save \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return _this2.handleClose();}},\"Close\")))))));}}]);return Jobs;}(Component);Jobs.contextType=AdminContext;export default Jobs;","map":{"version":3,"sources":["E:/CSR-master/src/admin/components/jobs/index.jsx"],"names":["React","Component","Link","Table","itemRender","onShowSizeChange","moment","IMG01","AdminContext","PageLoading","Modal","Jobs","state","id","show","status","componentDidMount","context","getJobs","jobs","props","match","params","setState","length","handleSingleJob","getSingleJob","history","push","handleDeleteBtn","handleClose","handleEmployerProfile","getEmployerProfile","statusName","loading","data","imageUrl","columns","title","dataIndex","render","record","image","substr","sorter","a","b","category","name","photo","employer","date","format","created_at","proposals_count","overflowX","total","showTotal","range","showSizeChanger","deleteJob","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport moment from \"moment\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\";\n// context\nimport { AdminContext } from \"../../context/admin\";\nimport PageLoading from \"../loading/pageloading\"\nimport { Modal } from 'react-bootstrap';\n\nclass Jobs extends Component {\n\n  state = {\n    id: '',\n    show: null,\n    status: ''\n  }\n\n  componentDidMount = () => {\n    const { getJobs, jobs } = this.context;\n    const { status } = this.props.match.params;\n    this.setState({\n      status\n    });\n    if (jobs.length === 0) { getJobs(status) };\n  }\n\n  handleSingleJob = async (id) => {\n    await this.context.getSingleJob(id);\n    this.props.history.push(`/admin/single-job/${id}`);\n  }\n\n  handleDeleteBtn = (id) => {\n    this.setState({ id, show: true });\n  }\n  handleClose = () => {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleEmployerProfile = async (id) => {\n    await this.context.getEmployerProfile(id);\n    this.props.history.push(\"/admin/profile/employer\");\n  }\n\n  render() {\n    const { status } = this.props.match.params;\n    const statusName = status === \"0\" ? \"Opend\" : status === \"1\" ? \"Closed\" : status === \"2\" ? \"Processed\" : \"Completed\";\n    const { jobs, loading } = this.context;\n    const data = jobs\n    const imageUrl = \"http://excodeteam.com/crs/public/images/\";\n    const columns = [\n      {\n        title: \"Job Name\",\n        dataIndex: \"title\",\n        render: (title, record) => {\n          return (\n            <h2 className=\"table-avatar\">\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)} className=\"avatar avatar-sm mr-2\">\n                <img alt=\"Job Image\" src={record.image ? (imageUrl + record.image) : IMG01} />\n              </Link>\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)}>{title.substr(0, 30)}</Link>\n            </h2>\n          )\n        },\n        sorter: (a, b) => a.title.length - b.title.length,\n      },\n      {\n        title: \"Category\",\n        dataIndex: \"category\",\n        render: (category) => (category ? category.name : \"null\"),\n        sorter: (a, b) => a.category.name.length - b.category.name.length,\n      },\n      {\n        title: \"Employer Name\",\n        dataIndex: \"employer\",\n        render: ({ name, photo, id }) => (\n          <h2 className=\"table-avatar\">\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)} className=\"avatar avatar-sm mr-2\">\n              <img alt=\"Job Image\" src={photo ? (imageUrl + photo) : IMG01} />\n            </Link>\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)}>{name}</Link>\n          </h2>\n        ),\n        sorter: (a, b) => a.employer.name.length - b.employer.name.length,\n      },\n      {\n        title: \"Posted At\",\n        dataIndex: \"created_at\",\n        render: (date) => (moment(date).format(\"YYYY-MM-DD\")),\n        sorter: (a, b) => a.created_at.length - b.created_at.length,\n      },\n      {\n        title: \"Proposals Count\",\n        dataIndex: \"proposals_count\",\n        render: (proposals_count) => (`Proposals (${proposals_count})`),\n      },\n      {\n        title: \"Details\",\n        dataIndex: \"id\",\n        render: (id) => (\n          <div className=\"actions\">\n            <button onClick={() => this.handleSingleJob(id)} className=\"btn btn-sm bg-info-light\">View</button>\n            <button className=\"btn btn-sm bg-danger-light\" onClick={() => this.handleDeleteBtn(id)}><i className=\"fe fe-trash\"></i> Delete</button>\n          </div>\n        ),\n      },\n    ];\n\n    return (\n      <>\n        <div className=\"page-wrapper\">\n          <div className=\"content container-fluid\">\n\n            <div className=\"page-header\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <h3 className=\"page-title\">Jobs</h3>\n                  <ul className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\"><Link to=\"/admin\">Dashboard</Link></li>\n                    <li className=\"breadcrumb-item active\">{statusName} Jobs</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    {\n                      loading ? <PageLoading loading={loading} /> :\n                        <div className=\"table-responsive\">\n                          <Table\n                            className=\"table-striped\"\n                            style={{ overflowX: \"auto\" }}\n                            columns={columns}\n                            // bordered\n                            dataSource={data}\n                            rowKey={(record) => record.id}\n                            showSizeChanger={true}\n                            pagination={{\n                              total: data.length,\n                              showTotal: (total, range) =>\n                                `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                              showSizeChanger: true,\n                              onShowSizeChange: onShowSizeChange,\n                              itemRender: itemRender,\n                            }}\n                          />\n                        </div>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Delete Modal */}\n            <Modal show={this.state.show} onHide={this.handleClose} centered>\n              <Modal.Body className=\"text-center\">\n                <div className=\"form-content p-2\">\n                  <h4 className=\"modal-title\">Delete</h4>\n                  <p className=\"mb-4\">Are you sure want to delete?</p>\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={() => { this.context.deleteJob(this.state.id, this.state.status); this.handleClose(); }}>Save </button>\n                  <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\" onClick={() => this.handleClose()}>Close</button>\n                </div>\n              </Modal.Body>\n            </Modal>\n\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nJobs.contextType = AdminContext;\nexport default Jobs;"]},"metadata":{},"sourceType":"module"}