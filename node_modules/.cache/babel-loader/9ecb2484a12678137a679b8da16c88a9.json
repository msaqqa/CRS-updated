{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import DoctorSidebar from'../sidebar/index';import IMG01 from'../../../assets/images/doctor-thumb-02.jpg';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';// context\nimport{EmployerContext}from\"../../../context/employer\";import{UserContext}from\"../../../context/user\";import DateView from\"react-datepicker\";import moment from\"moment\";import ActionLoading from\"../../loading/actionloading\";function ProfileSetting(){// context values\nvar _useContext=useContext(EmployerContext),getProfile=_useContext.getProfile,profile=_useContext.profile,setProfile=_useContext.setProfile,loading=_useContext.loading;var _useContext2=useContext(UserContext),getCountries=_useContext2.getCountries,countries=_useContext2.countries;var employeeInfo=profile.employeeInfo;var country_id=employeeInfo.country_id,email=employeeInfo.email,mobile=employeeInfo.mobile,photo=employeeInfo.photo,name=employeeInfo.name,birthDate=employeeInfo.birthDate,address=employeeInfo.address,city=employeeInfo.city,state=employeeInfo.state,zipCode=employeeInfo.zipCode,pref=employeeInfo.pref;var imageUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),preview=_useState4[0],setPreview=_useState4[1];useEffect(function(){getProfile();getCountries();},[]);var handleChange=function handleChange(files){setFiles(files);};var initialValues=function initialValues(){var date=!birthDate||birthDate===\"0000-00-00 00:00:00\"?new Date():new Date(birthDate);return{photo:photo||null,name:name||'',birthDate:date,email:email||'',mobile:mobile||'',country:country_id||'',address:address||\"\",city:city||\"\",state:state||\"\",zipCode:zipCode||\"\"};};var validationSchema=Yup.object().shape({name:Yup.string().required(\"Required\"),email:Yup.string().required(\"Required\")});var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var birthDate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:birthDate=values.birthDate;birthDate=moment(birthDate).format(\"YYYY-MM-DD\");_context.next=4;return setProfile(_objectSpread(_objectSpread({},values),{},{birthDate:birthDate}));case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Profile Settings\"))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Profile Settings\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(DoctorSidebar,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues(),validationSchema:validationSchema,onSubmit:handleSubmit,validateOnChange:false,enableReinitialize:true},function(formik){var setFieldValue=formik.setFieldValue,isSubmitting=formik.isSubmitting;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"Basic Information\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"change-avatar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-img\"},/*#__PURE__*/React.createElement(\"img\",{src:preview||imageUrl,alt:\"User\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"upload-img\"},/*#__PURE__*/React.createElement(\"div\",{className:\"change-photo-btn\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-upload\"}),\" Upload Photo\"),/*#__PURE__*/React.createElement(Field,{type:\"file\",name:\"file\",className:\"upload\",onChange:function onChange(e){setPreview(URL.createObjectURL(e.target.files[0]));setFieldValue(\"photo\",e.currentTarget.files[0]);}})),/*#__PURE__*/React.createElement(\"small\",{className:\"form-text text-muted\"},\"Allowed JPG, GIF or PNG. Max size of 2MB\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Name \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\")),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"name\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},\"*\")),/*#__PURE__*/React.createElement(Field,{type:\"email\",name:\"email\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Phone Number\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"mobile\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-0\"},/*#__PURE__*/React.createElement(\"label\",null,\"Date of Birth\"),/*#__PURE__*/React.createElement(\"div\",{className:\"cal-icon\"},/*#__PURE__*/React.createElement(Field,{name:\"birthDate\"},function(_ref2){var form=_ref2.form,field=_ref2.field;var setFieldValue=form.setFieldValue;var value=field.value;return/*#__PURE__*/React.createElement(DateView,Object.assign({},field,{className:\"form-control datetimepicker\",placeholderText:\"Click to select a birth date\",maxDate:new Date(),selected:value,dateFormat:\"yyyy-MM-dd\",showYearDropdown:true,onChange:function onChange(val){return setFieldValue(\"birthDate\",val);}}));}))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"About Me\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-0\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"form-control\",rows:\"5\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"card contact-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"Contact Details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"address\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"City\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"city\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"State\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"state\",className:\"form-control\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Country\"),/*#__PURE__*/React.createElement(Field,{as:\"select\",name:\"country\",className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true},\"Select Country\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Germany\"},\"Germany\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"control-label\"},\"Postal Code\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"zipCode\",className:\"form-control\"})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"submit-section submit-btn-bottom\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary submit-btn\",disabled:isSubmitting},/*#__PURE__*/React.createElement(\"span\",null,\"Save Changes\"),/*#__PURE__*/React.createElement(ActionLoading,{loading:loading}))));}))))));}export default ProfileSetting;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employer/profilesetting/index.jsx"],"names":["React","useContext","useState","useEffect","DoctorSidebar","IMG01","Formik","Form","Field","ErrorMessage","Yup","EmployerContext","UserContext","DateView","moment","ActionLoading","ProfileSetting","getProfile","profile","setProfile","loading","getCountries","countries","employeeInfo","country_id","email","mobile","photo","name","birthDate","address","city","state","zipCode","pref","imageUrl","files","setFiles","preview","setPreview","handleChange","initialValues","date","Date","country","validationSchema","object","shape","string","required","handleSubmit","values","format","formik","setFieldValue","isSubmitting","e","URL","createObjectURL","target","currentTarget","form","field","value","val"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport DoctorSidebar from '../sidebar/index';\nimport IMG01 from '../../../assets/images/doctor-thumb-02.jpg';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n// context\nimport { EmployerContext } from \"../../../context/employer\";\nimport { UserContext } from \"../../../context/user\";\nimport DateView from \"react-datepicker\";\nimport moment from \"moment\";\nimport ActionLoading from \"../../loading/actionloading\";\n\nfunction ProfileSetting() {\n\n  // context values\n  const { getProfile, profile, setProfile, loading } = useContext(EmployerContext);\n  const { getCountries, countries } = useContext(UserContext);\n  const { employeeInfo } = profile;\n  const { country_id, email, mobile, photo, name, birthDate, address, city, state, zipCode, pref } = employeeInfo;\n  const imageUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n\n  const [files, setFiles] = useState([]);\n  const [preview, setPreview] = useState(\"\");\n\n  useEffect(() => {\n    getProfile();\n    getCountries();\n  }, [])\n\n  const handleChange = (files) => {\n    setFiles(files);\n  }\n\n  const initialValues = () => {\n    const date = (!birthDate || birthDate === \"0000-00-00 00:00:00\") ? new Date() : new Date(birthDate);\n    return {\n      photo: photo || null,\n      name: name || '',\n      birthDate: date,\n      email: email || '',\n      mobile: mobile || '',\n      country: country_id || '',\n      address: address || \"\",\n      city: city || \"\",\n      state: state || \"\",\n      zipCode: zipCode || \"\",\n    }\n  }\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required(\"Required\"),\n    email: Yup.string().required(\"Required\"),\n  });\n\n  const handleSubmit = async values => {\n    let { birthDate } = values;\n    birthDate = moment(birthDate).format(\"YYYY-MM-DD\");\n    await setProfile({ ...values, birthDate });\n  }\n\n  return (\n    <>\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><a href=\"/home\">Home</a></li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">Profile Settings</li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Profile Settings</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <DoctorSidebar />\n            </div>\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n\n              <Formik\n                initialValues={initialValues()}\n                validationSchema={validationSchema}\n                onSubmit={handleSubmit}\n                validateOnChange={false}\n                enableReinitialize={true}\n              >\n                {(formik) => {\n                  const { setFieldValue, isSubmitting } = formik;\n                  return (\n                    <Form>\n                      <div className=\"card\">\n                        <div className=\"card-body\">\n                          <h4 className=\"card-title\">Basic Information</h4>\n                          <div className=\"row form-row\">\n                            <div className=\"col-md-12\">\n                              <div className=\"form-group\">\n                                <div className=\"change-avatar\">\n                                  <div className=\"profile-img\">\n                                    <img src={preview || imageUrl} alt=\"User\" />\n                                  </div>\n                                  <div className=\"upload-img\">\n                                    <div className=\"change-photo-btn\">\n                                      <span><i className=\"fa fa-upload\"></i> Upload Photo</span>\n                                      <Field type=\"file\" name=\"file\" className=\"upload\" onChange={(e) => {\n                                        setPreview(URL.createObjectURL(e.target.files[0]));\n                                        setFieldValue(\"photo\", e.currentTarget.files[0]);\n                                      }}\n                                      />\n                                    </div>\n                                    <small className=\"form-text text-muted\">Allowed JPG, GIF or PNG. Max size of 2MB</small>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Name <span className=\"text-danger\">*</span></label>\n                                <Field type=\"text\" name=\"name\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Email <span className=\"text-danger\">*</span></label>\n                                <Field type=\"email\" name=\"email\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Phone Number</label>\n                                <Field type=\"text\" name=\"mobile\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group mb-0\">\n                                <label>Date of Birth</label>\n                                <div className=\"cal-icon\">\n                                  <Field name=\"birthDate\">\n                                    {\n                                      ({ form, field }) => {\n                                        const { setFieldValue } = form;\n                                        const { value } = field;\n                                        return <DateView\n                                          {...field}\n                                          className=\"form-control datetimepicker\"\n                                          placeholderText=\"Click to select a birth date\"\n                                          maxDate={new Date()}\n                                          selected={value}\n                                          dateFormat=\"yyyy-MM-dd\"\n                                          showYearDropdown\n                                          onChange={(val) => setFieldValue(\"birthDate\", val)}\n                                        />\n                                      }\n                                    }\n                                  </Field>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"card\">\n                        <div className=\"card-body\">\n                          <h4 className=\"card-title\">About Me</h4>\n                          <div className=\"form-group mb-0\">\n                            <textarea className=\"form-control\" rows=\"5\"></textarea>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"card contact-card\">\n                        <div className=\"card-body\">\n                          <h4 className=\"card-title\">Contact Details</h4>\n                          <div className=\"row form-row\">\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label>Address</label>\n                                <Field type=\"text\" name=\"address\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label className=\"control-label\">City</label>\n                                <Field type=\"text\" name=\"city\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label className=\"control-label\">State</label>\n                                <Field type=\"text\" name=\"state\" className=\"form-control\" />\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label className=\"control-label\">Country</label>\n                                <Field as=\"select\" name=\"country\" className=\"form-control\">\n                                  <option value=\"\" disabled>Select Country</option>\n                                  <option value=\"Germany\">Germany</option>\n                                  {/* {\n                                      countries.map((country, index) => {\n                                        return (\n                                          <option key={index} value={country}>\n                                            {country}\n                                          </option>\n                                        );\n                                      })\n                                    } */}\n                                </Field>\n                              </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                              <div className=\"form-group\">\n                                <label className=\"control-label\">Postal Code</label>\n                                <Field type=\"text\" name=\"zipCode\" className=\"form-control\" />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"submit-section submit-btn-bottom\">\n                        <button type=\"submit\" className=\"btn btn-primary submit-btn\" disabled={isSubmitting}>\n                          <span>Save Changes</span>\n                          <ActionLoading loading={loading} />\n                        </button>\n                      </div>\n\n                    </Form>\n                  )\n                }}\n              </Formik>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default ProfileSetting;"]},"metadata":{},"sourceType":"module"}