{"ast":null,"code":"import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import StickyBox from\"react-sticky-box\";import DoctorSidebar from'../../sidebar';import{Link}from'react-router-dom';import{Tabs,Tab}from'react-bootstrap';import{Table}from\"antd\";import'antd/dist/antd.css';import{itemRender,onShowSizeChange}from\"../../paginationfunction\";import{Modal}from'react-bootstrap';import{IMG01}from'../img';// context\nimport{EmployerContext}from\"../../../../context/employer\";import moment from\"moment\";import ViewProposal from\"../../viewproposal\";function CoverLetters(){// context values\nvar _useContext=useContext(EmployerContext),proposals=_useContext.proposals,title=_useContext.job.title,viewProposal=_useContext.viewProposal,acceptProposal=_useContext.acceptProposal,selectProposal=_useContext.selectProposal,rejectProposal=_useContext.rejectProposal;var pending=proposals.pending,accepted=proposals.accepted,selected=proposals.selected,rejected=proposals.rejected;// state values\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),key=_useState2[0],setKey=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),activeModal=_useState4[0],setActiveModal=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),proposalDetails=_useState6[0],setProposalDetalis=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),action=_useState8[0],setAction=_useState8[1];var handleSelect=function handleSelect(key){setKey(key);};var openModal=function openModal(id){setActiveModal(id);};var closeModal=function closeModal(){setActiveModal(false);};var handleViewBtn=function handleViewBtn(proposal,id){setProposalDetalis(proposal);openModal(\"coverLetter\");viewProposal(id);};var handleActionBtn=function handleActionBtn(name,func){openModal('action');setAction({name:name,func:func});};var columns=[{title:\"Employee Name\",dataIndex:\"employee\",render:function render(_ref){var name=_ref.name,photo=_ref.photo;var photoUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;return/*#__PURE__*/React.createElement(\"div\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#0\",className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:photoUrl})),/*#__PURE__*/React.createElement(\"a\",{href:\"#0\"},name));},sorter:function sorter(a,b){return a.employee.name.length-b.employee.name.length;}},{title:\"Posted At\",dataIndex:\"created_at\",render:function render(date){return moment(date).format(\"YYYY-MM-DD\");},sorter:function sorter(a,b){return a.created_at.length-b.created_at.length;}},{dataIndex:\"status\",className:\"text-right\",render:function render(status,record){var id=record.id,employee=record.employee,message=record.message;var photo=employee.photo;var photoUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;var proposal=_objectSpread(_objectSpread({},employee),{},{message:message,photoUrl:photoUrl,status:status,proposalId:id});return/*#__PURE__*/React.createElement(\"div\",{className:\"appointments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"appointment-action\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-info-light\",onClick:function onClick(){return handleViewBtn(proposal,id);}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-eye\"}),\" View\"),status==0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-primary-light\",onClick:function onClick(){return handleActionBtn(\"Accept\",function(){return acceptProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"}),\" Accept\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-danger-light\",onClick:function onClick(){return handleActionBtn(\"Reject\",function(){return rejectProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"}),\" Reject\")):status==1?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-success-light\",onClick:function onClick(){return handleActionBtn(\"Select\",function(){return selectProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check-double\"}),\" Select\"):null));}}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/doctor/appointments\"},\"Jobs\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Proposals Job\"))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Proposals Job\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(StickyBox,{offsetTop:20,offsetBottom:20},/*#__PURE__*/React.createElement(DoctorSidebar,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"Proposals Job \",title),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Tabs,{className:\"tab-view\",activeKey:key,onSelect:handleSelect,id:\"controlled-tab-example\"},/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:1,title:\"Pending Proposals\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:pending,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:pending?pending.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:2,title:\"Accepted Proposals\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:accepted,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:accepted?accepted.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:3,title:\"Selected Proposals\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:selected,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:selected?selected.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:4,title:\"Rejected Proposals\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:rejected,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:rejected?rejected.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}})))))))))),/*#__PURE__*/React.createElement(ViewProposal,{proposal:proposalDetails,activeModal:activeModal,closeModal:closeModal,handleActionBtn:handleActionBtn}),/*#__PURE__*/React.createElement(Modal,{show:activeModal==='action',onHide:closeModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-content p-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},action.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Are you sure want to \",action.name,\"?\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn bg-success-light mr-2\",onClick:function onClick(){action.func();closeModal();}},\" OK \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn bg-danger-light\",\"data-dismiss\":\"modal\",onClick:closeModal},\"Cancel\")))))))));}export default CoverLetters;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employer/jobs/coverletters/index.jsx"],"names":["React","useContext","useState","StickyBox","DoctorSidebar","Link","Tabs","Tab","Table","itemRender","onShowSizeChange","Modal","IMG01","EmployerContext","moment","ViewProposal","CoverLetters","proposals","title","job","viewProposal","acceptProposal","selectProposal","rejectProposal","pending","accepted","selected","rejected","key","setKey","activeModal","setActiveModal","proposalDetails","setProposalDetalis","action","setAction","handleSelect","openModal","id","closeModal","handleViewBtn","proposal","handleActionBtn","name","func","columns","dataIndex","render","photo","photoUrl","sorter","a","b","employee","length","date","format","created_at","className","status","record","message","proposalId","overflowX","total","showTotal","range","showSizeChanger"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport StickyBox from \"react-sticky-box\";\nimport DoctorSidebar from '../../sidebar';\nimport { Link } from 'react-router-dom';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../paginationfunction\";\nimport { Modal } from 'react-bootstrap';\nimport { IMG01 } from '../img';\n// context\nimport { EmployerContext } from \"../../../../context/employer\";\nimport moment from \"moment\";\nimport ViewProposal from \"../../viewproposal\"\n\nfunction CoverLetters() {\n\n  // context values\n  const { proposals, job: { title }, viewProposal, acceptProposal, selectProposal, rejectProposal } = useContext(EmployerContext);\n  const { pending, accepted, selected, rejected } = proposals;\n\n  // state values\n  const [key, setKey] = useState(1);\n  const [activeModal, setActiveModal] = useState(null);\n  const [proposalDetails, setProposalDetalis] = useState({});\n  const [action, setAction] = useState({});\n\n  const handleSelect = (key) => {\n    setKey(key);\n  }\n\n  const openModal = (id) => {\n    setActiveModal(id);\n  }\n\n  const closeModal = () => {\n    setActiveModal(false);\n  };\n\n  const handleViewBtn = (proposal, id) => {\n    setProposalDetalis(proposal);\n    openModal(\"coverLetter\");\n    viewProposal(id);\n  }\n\n  const handleActionBtn = (name, func) => {\n    openModal('action');\n    setAction({ name, func });\n  }\n\n  const columns = [\n    {\n      title: \"Employee Name\",\n      dataIndex: \"employee\",\n      render: ({ name, photo }) => {\n        const photoUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n        return (\n          <div className=\"table-avatar\">\n            <a href=\"#0\" className=\"avatar avatar-sm mr-2\">\n              <img alt=\"\" src={photoUrl} />\n            </a>\n            <a href=\"#0\">{name}</a>\n          </div>\n        )\n      },\n      sorter: (a, b) => a.employee.name.length - b.employee.name.length,\n    },\n    {\n      title: \"Posted At\",\n      dataIndex: \"created_at\",\n      render: (date) => (moment(date).format(\"YYYY-MM-DD\")),\n      sorter: (a, b) => a.created_at.length - b.created_at.length,\n    },\n    {\n      dataIndex: \"status\",\n      className: \"text-right\",\n      render: (status, record) => {\n        const { id, employee, message } = record;\n        const { photo } = employee\n        const photoUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n        const proposal = { ...employee, message, photoUrl, status, proposalId: id };\n        return (\n          <div className=\"appointments\">\n            <div className=\"appointment-action\">\n              <button className=\"btn btn-sm bg-info-light\" onClick={() => handleViewBtn(proposal, id)}>\n                <i className=\"far fa-eye\"></i> View\n              </button>\n              {\n                status == 0 ?\n                  <>\n                    <button className=\"btn btn-sm bg-primary-light\" onClick={() => handleActionBtn(\"Accept\", () => acceptProposal(id))}>\n                      <i className=\"fas fa-check\"></i> Accept\n                    </button>\n                    <button className=\"btn btn-sm bg-danger-light\" onClick={() => handleActionBtn(\"Reject\", () => rejectProposal(id))}>\n                      <i className=\"fas fa-times\"></i> Reject\n                    </button>\n                  </>\n                  : status == 1 ?\n                    <button className=\"btn btn-sm bg-success-light\" onClick={() => handleActionBtn(\"Select\", () => selectProposal(id))}>\n                      <i className=\"fas fa-check-double\"></i> Select\n                    </button>\n                    : null\n              }\n            </div>\n          </div>\n        )\n      },\n    },\n  ];\n\n  return (\n    <>\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><Link to=\"/home\">Home</Link></li>\n                  <li className=\"breadcrumb-item\"><Link to=\"/doctor/appointments\">Jobs</Link></li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">Proposals Job</li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Proposals Job</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n\n          <div className=\"row\">\n\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <StickyBox offsetTop={20} offsetBottom={20}>\n                <DoctorSidebar />\n              </StickyBox>\n            </div>\n\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h4 className=\"card-title\">Proposals Job {title}</h4><hr />\n                  <Tabs\n                    className=\"tab-view\"\n                    activeKey={key}\n                    onSelect={handleSelect}\n                    id=\"controlled-tab-example\"\n                  >\n                    <Tab className=\"nav-item\" eventKey={1} title=\"Pending Proposals\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={pending}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: pending ? pending.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={2} title=\"Accepted Proposals\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={accepted}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: accepted ? accepted.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={3} title=\"Selected Proposals\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={selected}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: selected ? selected.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={4} title=\"Rejected Proposals\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={rejected}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: rejected ? rejected.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                  </Tabs>\n                </div>\n              </div>\n\n              {/* cover letter modal */}\n              <ViewProposal proposal={proposalDetails} activeModal={activeModal} closeModal={closeModal} handleActionBtn={handleActionBtn} />\n\n              {/* action modal */}\n              <Modal show={activeModal === 'action'} onHide={closeModal} centered>\n                <Modal.Body className=\"text-center\">\n                  <div className=\"form-content p-2\">\n                    <h4 className=\"modal-title\">{action.name}</h4>\n                    <p className=\"mb-4\">Are you sure want to {action.name}?</p>\n                    <button type=\"button\" className=\"btn bg-success-light mr-2\" onClick={() => { action.func(); closeModal() }}> OK </button>\n                    <button type=\"button\" className=\"btn bg-danger-light\" data-dismiss=\"modal\" onClick={closeModal}>Cancel</button>\n                  </div>\n                </Modal.Body>\n              </Modal>\n\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default CoverLetters;"]},"metadata":{},"sourceType":"module"}