{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSR-master\\\\src\\\\admin\\\\components\\\\jobs\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport SidebarNav from \"../sidebar\";\nimport { Link } from 'react-router-dom';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport moment from \"moment\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\"; // context\n\nimport { AdminContext } from \"../../context/admin\";\nimport PageLoading from \"../loading/pageloading\";\n\nclass Jobs extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.componentDidMount = () => {\n      const {\n        getJobs,\n        jobs\n      } = this.context;\n      const {\n        status\n      } = this.props.match.params;\n\n      if (jobs.length === 0) {\n        getJobs(status);\n      }\n\n      ;\n    };\n\n    this.handleSingleJob = async id => {\n      await this.context.getSingleJob(id);\n      this.props.history.push(`/admin/single-job/${id}`);\n    };\n\n    this.handleEmployerProfile = async id => {\n      await this.context.getEmployerProfile(id);\n      this.props.history.push(\"/admin/profile/employer\");\n    };\n  }\n\n  render() {\n    const {\n      status\n    } = this.props.match.params;\n    const statusName = status === \"0\" ? \"Opend\" : status === \"1\" ? \"Closed\" : status === \"2\" ? \"Processed\" : \"Completed\";\n    const {\n      jobs,\n      loading\n    } = this.context;\n    const data = jobs;\n    const imageUrl = \"http://excodeteam.com/crs/public/images/\";\n    const columns = [{\n      title: \"Job Name\",\n      dataIndex: \"title\",\n      render: (title, record) => {\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          onClick: () => this.handleSingleJob(record.id),\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Job Image\",\n          src: record.image ? imageUrl + record.image : IMG01,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: \"#\",\n          onClick: () => this.handleSingleJob(record.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }\n        }, title));\n      },\n      sorter: (a, b) => a.title.length - b.title.length\n    }, {\n      title: \"Category\",\n      dataIndex: \"category\",\n      render: category => category ? category.name : \"null\",\n      sorter: (a, b) => a.category.name.length - b.category.name.length\n    }, {\n      title: \"Employer Name\",\n      dataIndex: \"employer\",\n      render: _ref => {\n        let {\n          name,\n          photo,\n          id\n        } = _ref;\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"\",\n          onClick: () => this.handleEmployerProfile(id),\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"Job Image\",\n          src: photo ? imageUrl + photo : IMG01,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: \"\",\n          onClick: () => this.handleEmployerProfile(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }\n        }, name));\n      },\n      sorter: (a, b) => a.employer.name.length - b.employer.name.length\n    }, {\n      title: \"Posted At\",\n      dataIndex: \"created_at\",\n      render: date => moment(date).format(\"YYYY-MM-DD\"),\n      sorter: (a, b) => a.created_at.length - b.created_at.length\n    }, {\n      title: \"Proposals Count\",\n      dataIndex: \"proposals_count\",\n      render: proposals_count => `Proposals (${proposals_count})`\n    }, {\n      title: \"Details\",\n      dataIndex: \"id\",\n      render: id => /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.handleSingleJob(id),\n        className: \"btn btn-sm bg-info-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, \"View\")\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SidebarNav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, \"Jobs\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 53\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, statusName, \" Jobs\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, loading ? /*#__PURE__*/React.createElement(PageLoading, {\n      loading: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-striped\",\n      style: {\n        overflowX: \"auto\"\n      },\n      columns: columns // bordered\n      ,\n      dataSource: data,\n      rowKey: record => record.id,\n      showSizeChanger: true,\n      pagination: {\n        total: data.length,\n        showTotal: (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n        itemRender: itemRender\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 27\n      }\n    })))))))));\n  }\n\n}\n\nJobs.contextType = AdminContext;\nexport default Jobs;","map":{"version":3,"sources":["E:/CSR-master/src/admin/components/jobs/index.jsx"],"names":["React","Component","SidebarNav","Link","Table","itemRender","onShowSizeChange","moment","IMG01","AdminContext","PageLoading","Jobs","componentDidMount","getJobs","jobs","context","status","props","match","params","length","handleSingleJob","id","getSingleJob","history","push","handleEmployerProfile","getEmployerProfile","render","statusName","loading","data","imageUrl","columns","title","dataIndex","record","image","sorter","a","b","category","name","photo","employer","date","format","created_at","proposals_count","overflowX","total","showTotal","range","showSizeChanger","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SidebarNav from \"../sidebar\";\nimport { Link } from 'react-router-dom';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport moment from \"moment\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\";\n// context\nimport { AdminContext } from \"../../context/admin\";\nimport PageLoading from \"../loading/pageloading\"\n\nclass Jobs extends Component {\n\n  componentDidMount = () => {\n    const { getJobs, jobs } = this.context;\n    const { status } = this.props.match.params;\n    if (jobs.length === 0) { getJobs(status) };\n  }\n\n  handleSingleJob = async (id) => {\n    await this.context.getSingleJob(id);\n    this.props.history.push(`/admin/single-job/${id}`);\n  }\n\n  handleEmployerProfile = async (id) => {\n    await this.context.getEmployerProfile(id);\n    this.props.history.push(\"/admin/profile/employer\");\n  }\n\n  render() {\n    const { status } = this.props.match.params;\n    const statusName = status === \"0\" ? \"Opend\" : status === \"1\" ? \"Closed\" : status === \"2\" ? \"Processed\" : \"Completed\";\n    const { jobs, loading } = this.context;\n    const data = jobs\n    const imageUrl = \"http://excodeteam.com/crs/public/images/\";\n    const columns = [\n      {\n        title: \"Job Name\",\n        dataIndex: \"title\",\n        render: (title, record) => {\n          return (\n            <h2 className=\"table-avatar\">\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)} className=\"avatar avatar-sm mr-2\">\n                <img alt=\"Job Image\" src={record.image ? (imageUrl + record.image) : IMG01} />\n              </Link>\n              <Link to=\"#\" onClick={() => this.handleSingleJob(record.id)}>{title}</Link>\n            </h2>\n          )\n        },\n        sorter: (a, b) => a.title.length - b.title.length,\n      },\n      {\n        title: \"Category\",\n        dataIndex: \"category\",\n        render: (category) => (category ? category.name : \"null\"),\n        sorter: (a, b) => a.category.name.length - b.category.name.length,\n      },\n      {\n        title: \"Employer Name\",\n        dataIndex: \"employer\",\n        render: ({ name, photo, id }) => (\n          <h2 className=\"table-avatar\">\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)} className=\"avatar avatar-sm mr-2\">\n              <img alt=\"Job Image\" src={photo ? (imageUrl + photo) : IMG01} />\n            </Link>\n            <Link to=\"\" onClick={() => this.handleEmployerProfile(id)}>{name}</Link>\n          </h2>\n        ),\n        sorter: (a, b) => a.employer.name.length - b.employer.name.length,\n      },\n      {\n        title: \"Posted At\",\n        dataIndex: \"created_at\",\n        render: (date) => (moment(date).format(\"YYYY-MM-DD\")),\n        sorter: (a, b) => a.created_at.length - b.created_at.length,\n      },\n      {\n        title: \"Proposals Count\",\n        dataIndex: \"proposals_count\",\n        render: (proposals_count) => (`Proposals (${proposals_count})`),\n      },\n      {\n        title: \"Details\",\n        dataIndex: \"id\",\n        render: (id) => (\n          <button onClick={() => this.handleSingleJob(id)} className=\"btn btn-sm bg-info-light\">View</button>\n        ),\n      },\n    ];\n\n    return (\n      <>\n        <SidebarNav />\n        <div className=\"page-wrapper\">\n          <div className=\"content container-fluid\">\n\n            <div className=\"page-header\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <h3 className=\"page-title\">Jobs</h3>\n                  <ul className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\"><Link to=\"/admin\">Dashboard</Link></li>\n                    <li className=\"breadcrumb-item active\">{statusName} Jobs</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    {\n                      loading ? <PageLoading loading={loading} /> :\n                        <div className=\"table-responsive\">\n                          <Table\n                            className=\"table-striped\"\n                            style={{ overflowX: \"auto\" }}\n                            columns={columns}\n                            // bordered\n                            dataSource={data}\n                            rowKey={(record) => record.id}\n                            showSizeChanger={true}\n                            pagination={{\n                              total: data.length,\n                              showTotal: (total, range) =>\n                                `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                              showSizeChanger: true,\n                              onShowSizeChange: onShowSizeChange,\n                              itemRender: itemRender,\n                            }}\n                          />\n                        </div>\n                    }\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nJobs.contextType = AdminContext;\nexport default Jobs;"]},"metadata":{},"sourceType":"module"}