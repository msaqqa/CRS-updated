{"ast":null,"code":"import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from\"react-router-dom\";import DashboardSidebar from\"../sidebar/sidebar.jsx\";import StickyBox from\"react-sticky-box\";import IMG01 from'../../../assets/images/patient.jpg';import{Tabs,Tab}from'react-bootstrap';import{Table}from\"antd\";import'antd/dist/antd.css';import{itemRender,onShowSizeChange}from\"../paginationfunction\";// context\nimport{EmployeeContext}from\"../../../context/employee\";import moment from\"moment\";import ViewProposal from\"../viewproposal\";function Proposals(){// context values\nvar _useContext=useContext(EmployeeContext),getProposals=_useContext.getProposals,proposals=_useContext.proposals,loading=_useContext.loading;var accepted=proposals.accepted,pending=proposals.pending,rejected=proposals.rejected,selected=proposals.selected;// state values\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),key=_useState2[0],setKey=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),activeModal=_useState4[0],setActiveModal=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),proposalDetails=_useState6[0],setProposalDetalis=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEdit=_useState8[0],setIsEdit=_useState8[1];useEffect(function(){getProposals();},[]);var handleSelect=function handleSelect(key){setKey(key);};var openModal=function openModal(id){setActiveModal(id);};var closeModal=function closeModal(){setActiveModal(false);};var handleViewBtn=function handleViewBtn(proposal){setProposalDetalis(proposal);setIsEdit(false);openModal(\"coverLetter\");};var columns=[{title:\"Job\",dataIndex:\"job\",render:function render(_ref){var id=_ref.id,title=_ref.title,image=_ref.image;var imageUrl=image?\"http://excodeteam.com/crs/public/images/\".concat(image):IMG01;return/*#__PURE__*/React.createElement(\"div\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"/jobs/single-job/\".concat(id),className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:imageUrl})),/*#__PURE__*/React.createElement(Link,{to:\"/jobs/single-job/\".concat(id)},title));},sorter:function sorter(a,b){return a.job.title.length-b.job.title.length;}},{title:\"Employer \",dataIndex:\"employer\",render:function render(_ref2){var name=_ref2.name,photo=_ref2.photo;var photoUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;return/*#__PURE__*/React.createElement(\"div\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:photoUrl})),/*#__PURE__*/React.createElement(Link,{to:\"#\"},name));},sorter:function sorter(a,b){return a.employer.name.length-b.employer.name.length;}},{title:\"Seen\",dataIndex:\"seen\",className:\"text-center\",render:function render(seen){var seenClass=seen===\"1\"?\"text-success\":\"\";return/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-eye d-block \".concat(seenClass)});}},{title:\"Posted At\",dataIndex:\"created_at\",render:function render(date){return moment(date).format(\"YYYY-MM-DD\");},sorter:function sorter(a,b){return a.created_at.length-b.created_at.length;}},{title:\"Cover Letter\",dataIndex:\"message\",className:\"text-center\",render:function render(message,item){return/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-info-light\",onClick:function onClick(){return handleViewBtn(item);}},\"View\");}}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/doctor/appointments\"},\"Proposals\")))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Proposals\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(StickyBox,{offsetTop:20,offsetBottom:20},/*#__PURE__*/React.createElement(DashboardSidebar,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"Proposals\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Tabs,{className:\"tab-view\",activeKey:key,onSelect:handleSelect,id:\"controlled-tab-example\"},/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:1,title:\"Pending Proposal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:pending,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:pending?pending.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:2,title:\"Accepted Proposal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:accepted,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:accepted?accepted.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:3,title:\"Selected Proposal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:selected,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:selected?selected.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}}))))))),/*#__PURE__*/React.createElement(Tab,{className:\"nav-item\",eventKey:4,title:\"Rejected Proposal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(Table,{className:\"table-striped\",style:{overflowX:\"auto\"},columns:columns// bordered\n,dataSource:rejected,rowKey:function rowKey(record){return record.id;},showSizeChanger:true,pagination:{total:rejected?rejected.length:0,showTotal:function showTotal(total,range){return\"Showing \".concat(range[0],\" to \").concat(range[1],\" of \").concat(total,\" entries\");},showSizeChanger:true,onShowSizeChange:onShowSizeChange,itemRender:itemRender}})))))))))),/*#__PURE__*/React.createElement(ViewProposal,{proposal:proposalDetails,isEdit:isEdit,activeModal:activeModal,closeModal:closeModal,setIsEdit:setIsEdit}))))));}export default Proposals;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employee/proposals/index.jsx"],"names":["React","useState","useContext","useEffect","Link","DashboardSidebar","StickyBox","IMG01","Tabs","Tab","Table","itemRender","onShowSizeChange","EmployeeContext","moment","ViewProposal","Proposals","getProposals","proposals","loading","accepted","pending","rejected","selected","key","setKey","activeModal","setActiveModal","proposalDetails","setProposalDetalis","isEdit","setIsEdit","handleSelect","openModal","id","closeModal","handleViewBtn","proposal","columns","title","dataIndex","render","image","imageUrl","sorter","a","b","job","length","name","photo","photoUrl","employer","className","seen","seenClass","date","format","created_at","message","item","overflowX","record","total","showTotal","range","showSizeChanger"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport DashboardSidebar from \"../sidebar/sidebar.jsx\";\nimport StickyBox from \"react-sticky-box\";\nimport IMG01 from '../../../assets/images/patient.jpg';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { Table } from \"antd\";\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../paginationfunction\";\n\n// context\nimport { EmployeeContext } from \"../../../context/employee\";\nimport moment from \"moment\";\nimport ViewProposal from \"../viewproposal\";\n\nfunction Proposals() {\n\n  // context values\n  const { getProposals, proposals, loading } = useContext(EmployeeContext);\n  const { accepted, pending, rejected, selected } = proposals;\n\n  // state values\n  const [key, setKey] = useState(1);\n  const [activeModal, setActiveModal] = useState(null);\n  const [proposalDetails, setProposalDetalis] = useState({});\n  const [isEdit, setIsEdit] = useState(false);\n\n  useEffect(() => {\n    getProposals();\n  }, [])\n\n  const handleSelect = (key) => {\n    setKey(key);\n  }\n\n  const openModal = (id) => {\n    setActiveModal(id);\n  }\n\n  const closeModal = () => {\n    setActiveModal(false);\n  };\n\n  const handleViewBtn = (proposal) => {\n    setProposalDetalis(proposal);\n    setIsEdit(false);\n    openModal(\"coverLetter\");\n  }\n\n  const columns = [\n    {\n      title: \"Job\",\n      dataIndex: \"job\",\n      render: ({ id, title, image }) => {\n        const imageUrl = image ? `http://excodeteam.com/crs/public/images/${image}` : IMG01;\n        return (\n          <div className=\"table-avatar\">\n            <Link to={`/jobs/single-job/${id}`} className=\"avatar avatar-sm mr-2\">\n              <img alt=\"\" src={imageUrl} />\n            </Link>\n            <Link to={`/jobs/single-job/${id}`}>{title}</Link>\n          </div>\n        )\n      },\n      sorter: (a, b) => a.job.title.length - b.job.title.length,\n    },\n    {\n      title: \"Employer \",\n      dataIndex: \"employer\",\n      render: ({ name, photo }) => {\n        const photoUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n        return (\n          <div className=\"table-avatar\">\n            <Link to=\"#\" className=\"avatar avatar-sm mr-2\">\n              <img alt=\"\" src={photoUrl} />\n            </Link>\n            <Link to=\"#\">{name}</Link>\n          </div>\n        )\n      },\n      sorter: (a, b) => a.employer.name.length - b.employer.name.length,\n    },\n    {\n      title: \"Seen\",\n      dataIndex: \"seen\",\n      className: \"text-center\",\n      render: (seen) => {\n        const seenClass = seen === \"1\" ? \"text-success\" : \"\";\n        return <i className={`far fa-eye d-block ${seenClass}`}></i>;\n      },\n    },\n    {\n      title: \"Posted At\",\n      dataIndex: \"created_at\",\n      render: (date) => (moment(date).format(\"YYYY-MM-DD\")),\n      sorter: (a, b) => a.created_at.length - b.created_at.length,\n    },\n    {\n      title: \"Cover Letter\",\n      dataIndex: \"message\",\n      className: \"text-center\",\n      render: (message, item) => {\n        return <button className=\"btn btn-sm bg-info-light\" onClick={() => handleViewBtn(item)}>View</button>;\n      },\n    },\n  ];\n\n  return (\n    <>\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><Link to=\"/home\">Home</Link></li>\n                  <li className=\"breadcrumb-item\"><Link to=\"/doctor/appointments\">Proposals</Link></li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Proposals</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n\n          <div className=\"row\">\n\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <StickyBox offsetTop={20} offsetBottom={20}>\n                <DashboardSidebar />\n              </StickyBox>\n            </div>\n\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h4 className=\"card-title\">Proposals</h4>\n                </div>\n                <div className=\"card-body\">\n                  <Tabs\n                    className=\"tab-view\"\n                    activeKey={key}\n                    onSelect={handleSelect}\n                    id=\"controlled-tab-example\"\n                  >\n                    <Tab className=\"nav-item\" eventKey={1} title=\"Pending Proposal\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={pending}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: pending ? pending.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={2} title=\"Accepted Proposal\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={accepted}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: accepted ? accepted.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={3} title=\"Selected Proposal\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={selected}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: selected ? selected.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                    <Tab className=\"nav-item\" eventKey={4} title=\"Rejected Proposal\">\n                      <div className=\"row\">\n                        <div className=\"col-sm-12\">\n                          <div className=\"card\">\n                            <div className=\"card-body\">\n                              <div className=\"table-responsive\">\n                                <Table\n                                  className=\"table-striped\"\n                                  style={{ overflowX: \"auto\" }}\n                                  columns={columns}\n                                  // bordered\n                                  dataSource={rejected}\n                                  rowKey={(record) => record.id}\n                                  showSizeChanger={true}\n                                  pagination={{\n                                    total: rejected ? rejected.length : 0,\n                                    showTotal: (total, range) =>\n                                      `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                    showSizeChanger: true,\n                                    onShowSizeChange: onShowSizeChange,\n                                    itemRender: itemRender,\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </Tab>\n                  </Tabs>\n                </div>\n              </div>\n              {/*view modal*/}\n              <ViewProposal proposal={proposalDetails} isEdit={isEdit} activeModal={activeModal} closeModal={closeModal} setIsEdit={setIsEdit} />\n            </div>\n\n          </div>\n\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Proposals;"]},"metadata":{},"sourceType":"module"}