{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import loginBanner from'../../assets/images/login-banner.png';import{Link}from'react-router-dom';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{UserContext}from\"../../context/user\";var ForgotPassword=/*#__PURE__*/function(_Component){_inherits(ForgotPassword,_Component);var _super=_createSuper(ForgotPassword);function ForgotPassword(){var _this;_classCallCheck(this,ForgotPassword);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.initialValues=function(){return{email:'',otp:'',password:'',confirmPassword:''};};_this.validationSchema=function(){var forgetStatus=_this.context.forgetStatus;var schema;switch(forgetStatus){case 0:schema=Yup.object().shape({email:Yup.string().email(\"Invalid email format\").required(\"Required\")});break;case 1:schema=Yup.object().shape({otp:Yup.string().required(\"Required\")});break;case 2:schema=Yup.object().shape({password:Yup.string().required(\"Required\"),confirmPassword:Yup.string().oneOf([Yup.ref('password'),null],'Passwords must match').required(\"Required\")});break;}return schema;};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _this$context,forgetStatus,forgotPassword,sendCode,resetPassword;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$context=_this.context,forgetStatus=_this$context.forgetStatus,forgotPassword=_this$context.forgotPassword,sendCode=_this$context.sendCode,resetPassword=_this$context.resetPassword;if(!(forgetStatus===0)){_context.next=6;break;}_context.next=4;return forgotPassword(values);case 4:_context.next=13;break;case 6:if(!(forgetStatus===1)){_context.next=11;break;}_context.next=9;return sendCode(values);case 9:_context.next=13;break;case 11:_context.next=13;return resetPassword(values);case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ForgotPassword,[{key:\"componentDidMount\",value:function componentDidMount(){document.body.classList.add('account-page');}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.body.classList.remove('account-page');}},{key:\"render\",value:function render(){var forgetStatus=this.context.forgetStatus;var inputText=forgetStatus===0?\"Enter your email to get a code through it.\":forgetStatus===1?\"Enter your code to get a password reset.\":\"Enter New Password\";return/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8 offset-md-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"account-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-6 login-left\"},/*#__PURE__*/React.createElement(\"img\",{src:loginBanner,className:\"img-fluid\",alt:\"Login Banner\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-6 login-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Forgot Password?\"),/*#__PURE__*/React.createElement(\"p\",{className:\"small text-muted\"},inputText)),/*#__PURE__*/React.createElement(Formik,{initialValues:this.initialValues(),validationSchema:this.validationSchema,onSubmit:this.handleSubmit,validateOnChange:false},function(formik){return/*#__PURE__*/React.createElement(Form,null,forgetStatus===0&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group form-focus\"},/*#__PURE__*/React.createElement(Field,{type:\"email\",name:\"email\",className:\"form-control floating\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-danger text-xs\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"focus-label\"},\"Email\")),forgetStatus===1&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group form-focus\"},/*#__PURE__*/React.createElement(Field,{type:\"text\",name:\"otp\",className:\"form-control floating\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"otp\",component:\"div\",className:\"text-danger text-xs\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"focus-label\"},\"Code\")),forgetStatus===2&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group form-focus\"},/*#__PURE__*/React.createElement(Field,{name:\"password\",type:\"password\",className:\"form-control floating\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-danger text-xs\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"focus-label\"},\"New Password\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Field,{name:\"confirmPassword\",type:\"password\",className:\"form-control floating\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"confirmPassword\",component:\"div\",className:\"text-danger text-xs\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"focus-label\"},\"Confirm Password\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"forgot-link\"},\"Remember your password? \")),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block btn-lg login-btn\",type:\"submit\"},\"Send\"));}))))))));}}]);return ForgotPassword;}(Component);ForgotPassword.contextType=UserContext;export default ForgotPassword;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/forgot-password/index.jsx"],"names":["React","Component","loginBanner","Link","Formik","Form","Field","ErrorMessage","Yup","UserContext","ForgotPassword","initialValues","email","otp","password","confirmPassword","validationSchema","forgetStatus","context","schema","object","shape","string","required","oneOf","ref","handleSubmit","values","forgotPassword","sendCode","resetPassword","document","body","classList","add","remove","inputText","formik","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport loginBanner from '../../assets/images/login-banner.png';\nimport { Link } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport {UserContext} from \"../../context/user\";\n\nclass ForgotPassword  extends Component {\n\n\tcomponentDidMount(){\n\t\tdocument.body.classList.add('account-page');\n\t}\n\tcomponentWillUnmount(){\n\t\tdocument.body.classList.remove('account-page');\n  }\n\n  initialValues = () => {\n    return {\n      email: '',\n      otp: '',\n      password: '',\n      confirmPassword: '',\n    }\n  }\n\n  validationSchema = () => {\n    const {forgetStatus} = this.context;\n    let schema;\n    switch (forgetStatus) {\n      case 0:\n        schema = Yup.object().shape({\n          email: Yup.string().email(\"Invalid email format\").required(\"Required\"),\n        })\n        break;\n      case 1:\n        schema = Yup.object().shape({\n          otp: Yup.string().required(\"Required\"),\n        })\n        break;\n      case 2:\n        schema = Yup.object().shape({\n          password: Yup.string().required(\"Required\"),\n          confirmPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match').required(\"Required\"),\n        })\n        break\n    }\n    return schema;\n  }\n\n  handleSubmit = async (values) => {\n    const {forgetStatus, forgotPassword, sendCode, resetPassword} = this.context;\n    forgetStatus===0? await forgotPassword(values) : forgetStatus===1? await sendCode(values) : await resetPassword(values);\n  } \n\n  render(){\n    const {forgetStatus} = this.context;\n    const inputText = forgetStatus===0? \"Enter your email to get a code through it.\" : forgetStatus===1? \"Enter your code to get a password reset.\" : \"Enter New Password\";\n    \n    return(\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n          \n          <div className=\"row\">\n            <div className=\"col-md-8 offset-md-2\">\n            \n              <div className=\"account-content\">\n                <div className=\"row align-items-center justify-content-center\">\n                  <div className=\"col-md-7 col-lg-6 login-left\">\n                    <img src={loginBanner} className=\"img-fluid\" alt=\"Login Banner\" />\t\n                  </div>\n                  <div className=\"col-md-12 col-lg-6 login-right\">\n                    <div className=\"login-header\">\n                      <h3>Forgot Password?</h3>\n                      <p className=\"small text-muted\">{inputText}</p>\n                    </div>\n\n                    <Formik\n                      initialValues={this.initialValues()}\n                      validationSchema={this.validationSchema}\n                      onSubmit={this.handleSubmit}\n                      validateOnChange={false}\n                    >\n                      {(formik)=>{\n                        return (\n                          <Form>\n                            {\n                              (forgetStatus===0) &&\n                              <div className=\"form-group form-focus\">\n                                <Field type=\"email\" name=\"email\" className=\"form-control floating\" />\n                                <ErrorMessage name=\"email\" component=\"div\" className=\"text-danger text-xs\" />\n                                <label className=\"focus-label\">Email</label>\n                              </div>\n                            }\n                            {\n                              (forgetStatus===1) && \n                              <div className=\"form-group form-focus\">\n                                <Field type=\"text\" name=\"otp\" className=\"form-control floating\" />\n                                <ErrorMessage name=\"otp\" component=\"div\" className=\"text-danger text-xs\" />\n                                <label className=\"focus-label\">Code</label>\n                              </div>\n                            }\n                            {\n                              (forgetStatus===2) && \n                              <>\n                                <div className=\"form-group form-focus\">\n                                  <Field name=\"password\" type=\"password\" className=\"form-control floating\" />\n                                  <ErrorMessage name=\"password\" component=\"div\" className=\"text-danger text-xs\" />\n                                  <label className=\"focus-label\">New Password</label>\n                                </div>\n                                <div>\n                                  <Field name=\"confirmPassword\" type=\"password\" className=\"form-control floating\" />\n                                  <ErrorMessage name=\"confirmPassword\" component=\"div\" className=\"text-danger text-xs\" />\n                                  <label className=\"focus-label\">Confirm Password</label>\n                                </div>\n                              </>\n                            }\n                            <div className=\"text-right\">\n                              <Link to=\"/login\" className=\"forgot-link\">Remember your password? </Link>\n                            </div>\n                            <button className=\"btn btn-primary btn-block btn-lg login-btn\" type=\"submit\">Send</button>\n                          </Form>\n                        )\n                      }}\n                    </Formik>\n                  </div>\n                </div>\n              </div>\n              \n            </div>\n          </div>\n\n        </div>\n\n      </div>\n    );\n  }\n}\n\nForgotPassword.contextType = UserContext;\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}