{"ast":null,"code":"import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from\"react-router-dom\";import DashboardSidebar from\"../sidebar/sidebar.jsx\";import StickyBox from\"react-sticky-box\";import{Modal}from'react-bootstrap';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{EmployeeContext}from\"../../../context/employee\";function Languges(){var _useContext=useContext(EmployeeContext),getLanguages=_useContext.getLanguages,languages=_useContext.languages,AddLanguage=_useContext.AddLanguage,updateLanguage=_useContext.updateLanguage,deleteLanguage=_useContext.deleteLanguage,loading=_useContext.loading;// state values\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeModal=_useState2[0],setActiveModal=_useState2[1];// state language values\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),level=_useState8[0],setLevel=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isEdit=_useState10[0],setIsEdit=_useState10[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getLanguages();case 2:case\"end\":return _context.stop();}}},_callee);})),[]);var openModal=function openModal(id){setActiveModal(id);};var closeModal=function closeModal(){setActiveModal(false);};var handleAddButton=function handleAddButton(){setName(\"\");setLevel(\"\");setIsEdit(false);openModal(\"addOrEdit\");};var handleEditButton=function handleEditButton(item){setId(item.id);setName(item.name);setLevel(item.level);setIsEdit(true);openModal(\"addOrEdit\");};var handleDeleteButton=function handleDeleteButton(id){setId(id);openModal(\"delete\");};var initialValues=function initialValues(){return{name:name,level:level};};var validationSchema=Yup.object().shape({name:Yup.string().required(\"Required\"),level:Yup.string().required(\"Required\")});var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!isEdit){_context2.next=5;break;}_context2.next=3;return updateLanguage(_objectSpread({id:id},values));case 3:_context2.next=7;break;case 5:_context2.next=7;return AddLanguage(values);case 7:closeModal();case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Education\"))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Education\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(StickyBox,{offsetTop:20,offsetBottom:20},/*#__PURE__*/React.createElement(DashboardSidebar,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"btn btn-primary\",onClick:handleAddButton},\"Add Language\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-title\"},\"Languages\"),loading?/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center\"},\"Languages Loading...\"):languages.length<1?/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0\"},\"Click add language to insert your first language\"):/*#__PURE__*/React.createElement(\"div\",{className:\"card card-table mb-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover table-center mb-0\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Language\"),/*#__PURE__*/React.createElement(\"th\",null,\"Level\"))),/*#__PURE__*/React.createElement(\"tbody\",null,languages.map(function(item){return/*#__PURE__*/React.createElement(\"tr\",{key:item.id},/*#__PURE__*/React.createElement(\"td\",null,item.name),/*#__PURE__*/React.createElement(\"td\",null,item.level),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-action\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-success-light\",onClick:function onClick(){return handleEditButton(item);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fe fe-pencil\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-danger-light\",onClick:function onClick(){return handleDeleteButton(item.id);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fe fe-trash\"})))));})))))),/*#__PURE__*/React.createElement(Modal,{size:\"lg\",show:activeModal==='addOrEdit',onHide:closeModal,centered:true},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(\"h5\",{className:\"modal-title\"},\"Add Language\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues(),validationSchema:validationSchema,onSubmit:handleSubmit,validateOnChange:false,enableReinitialize:true},function(formik){return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"title\"},\"Language\"),/*#__PURE__*/React.createElement(Field,{type:\"text\",id:\"name\",name:\"name\",className:\"form-control\"}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"name\",component:\"div\",className:\"text-danger text-xs\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(Field,{as:\"select\",id:\"level\",name:\"level\",className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true},\"Select Level\"),/*#__PURE__*/React.createElement(\"option\",{value:\"beginner\"},\"Beginner\"),/*#__PURE__*/React.createElement(\"option\",{value:\"good\"},\"Good\"),/*#__PURE__*/React.createElement(\"option\",{value:\"very good\"},\"Very Good\"),/*#__PURE__*/React.createElement(\"option\",{value:\"fluent\"},\"Fluent\"),/*#__PURE__*/React.createElement(\"option\",{value:\"native\"},\"Native\")),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"level\",component:\"div\",className:\"text-danger text-xs\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary mr-2\",type:\"submit\"},\"Add\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-light\",onClick:closeModal,type:\"button\"},\"Cancel\"));}))),/*#__PURE__*/React.createElement(Modal,{show:activeModal==='delete',onHide:closeModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-content p-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},\"Delete\"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Are you sure want to delete?\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn bg-success-light mr-2\",onClick:function onClick(){deleteLanguage(id);closeModal();}},\" OK \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-light\",\"data-dismiss\":\"modal\",onClick:closeModal},\"Cancel\")))))))))));}export default Languges;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employee/languages/index.jsx"],"names":["React","useState","useContext","useEffect","Link","DashboardSidebar","StickyBox","Modal","Formik","Form","Field","ErrorMessage","Yup","EmployeeContext","Languges","getLanguages","languages","AddLanguage","updateLanguage","deleteLanguage","loading","activeModal","setActiveModal","id","setId","name","setName","level","setLevel","isEdit","setIsEdit","openModal","closeModal","handleAddButton","handleEditButton","item","handleDeleteButton","initialValues","validationSchema","object","shape","string","required","handleSubmit","values","length","map","formik"],"mappings":"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","sourcesContent":["import React,{ useState, useContext, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport DashboardSidebar from \"../sidebar/sidebar.jsx\";\nimport StickyBox from \"react-sticky-box\";\nimport { Modal } from 'react-bootstrap';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport {EmployeeContext} from \"../../../context/employee\";\n\nfunction Languges () {\n\n  const {getLanguages, languages, AddLanguage, updateLanguage, deleteLanguage, loading} = useContext(EmployeeContext);\n  // state values\n  const [activeModal, setActiveModal] = useState(null);\n  // state language values\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [level, setLevel] = useState(\"\");\n  const [isEdit, setIsEdit] = useState(false);\n\n  useEffect( async () => {\n    await getLanguages();\n  }, [])\n\n  const openModal = (id) => {\n\t  setActiveModal(id);\n  }\n\n\tconst closeModal = () => {\n\t\tsetActiveModal(false);\n  };\n\n  const handleAddButton = () => {\n    setName(\"\");\n    setLevel(\"\");\n    setIsEdit(false);\n    openModal(\"addOrEdit\");\n  }\n\n  const handleEditButton = (item) => {\n    setId(item.id);\n    setName(item.name);\n    setLevel(item.level);\n    setIsEdit(true);\n    openModal(\"addOrEdit\");\n  }\n\n   const handleDeleteButton = (id) => {\n    setId(id);\n    openModal(\"delete\");\n  }\n\n  const initialValues = () => {\n    return {\n      name: name,\n      level: level,\n    }\n  }\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string().required(\"Required\"),\n    level: Yup.string().required(\"Required\"),\n  });\n\n  const handleSubmit = async (values) => {\n    isEdit? await updateLanguage({id, ...values}) : await AddLanguage(values);\n    closeModal();\n  }\n\n  return (\n    <>\n\n    <div className=\"breadcrumb-bar\">\n      <div className=\"container-fluid\">\n        <div className=\"row align-items-center\">\n          <div className=\"col-md-12 col-12\">\n            <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n              <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\"><a href=\"/home\">Home</a></li>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">Education</li>\n              </ol>\n            </nav>\n            <h2 className=\"breadcrumb-title\">Education</h2>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"content\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n            <StickyBox offsetTop={20} offsetBottom={20}>\n              <DashboardSidebar />\n            </StickyBox>\n          </div>\n          <div className=\"col-md-7 col-lg-8 col-xl-9\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <Link to=\"#\" className=\"btn btn-primary\" onClick={handleAddButton}>Add Language</Link>\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title\">Languages</h4>\n                {\n                  loading? <h3 className=\"text-center\">Languages Loading...</h3> :\n                  languages.length<1? <p className=\"mb-0\">Click add language to insert your first language</p> :\n                  <div className=\"card card-table mb-0\">\n                    <div className=\"card-body\">\n                      <div className=\"table-responsive\">\n                        <table className=\"table table-hover table-center mb-0\">\n                          <thead>\n                            <tr>\n                              <th>Language</th>\n                              <th>Level</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {\n                              languages.map(item=>{\n                                return (\n                                  <tr key={item.id}>\n                                    <td>{item.name}</td>\n                                    <td>{item.level}</td>\n                                    <td className=\"text-right\">\n                                      <div className=\"table-action\">\n                                        <button className=\"btn btn-sm bg-success-light\" onClick={()=>handleEditButton(item)}><i className=\"fe fe-pencil\"></i></button>\n                                        <button className=\"btn btn-sm bg-danger-light\" onClick={()=>handleDeleteButton(item.id)}><i className=\"fe fe-trash\"></i></button>\n                                      </div>\n                                    </td>\n                                  </tr>\n                                )\n                              })\n                            }\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                }\n\n                {/* add or edit modal */}\n                <Modal size=\"lg\" show={activeModal === 'addOrEdit'} onHide={closeModal} centered>\n                  <Modal.Header closeButton>\n                    <h5 className=\"modal-title\">Add Language</h5>\n                  </Modal.Header>\n                  <Modal.Body>\n                    <Formik\n                      initialValues={initialValues()}\n                      validationSchema={validationSchema}\n                      onSubmit={handleSubmit}\n                      validateOnChange={false}\n                      enableReinitialize={true}\n                    >\n                      {(formik)=>{\n                        return (\n                          <Form>\n                            <div className=\"form-group\">\n                              <label htmlFor=\"title\">Language</label>\n                              <Field type=\"text\" id=\"name\" name=\"name\" className=\"form-control\" />\n                              <ErrorMessage name=\"name\" component=\"div\" className=\"text-danger text-xs\" />\n                            </div>\n                            <div className=\"form-group\">\n                              <Field as=\"select\" id=\"level\" name=\"level\" className=\"form-control\">\n                                <option value=\"\" disabled>Select Level</option>\n                                <option value=\"beginner\">Beginner</option>\n                                <option value=\"good\">Good</option>\n                                <option value=\"very good\">Very Good</option>\n                                <option value=\"fluent\">Fluent</option>\n                                <option value=\"native\">Native</option>\n                              </Field>\n                              <ErrorMessage name=\"level\" component=\"div\" className=\"text-danger text-xs\" />\n                            </div>\n                            <button className=\"btn btn-primary mr-2\" type=\"submit\">Add</button>\n                            <button className=\"btn btn-light\" onClick={closeModal} type=\"button\">Cancel</button>\n                          </Form>\n                        )\n                      }}\n                    </Formik>\n                  </Modal.Body>\n                </Modal>\n\n                {/* delete modal */}\n                <Modal show={activeModal === 'delete'} onHide={closeModal} centered>\n                  <Modal.Body className=\"text-center\">\n                    <div className=\"form-content p-2\">\n                      <h4 className=\"modal-title\">Delete</h4>\n                      <p className=\"mb-4\">Are you sure want to delete?</p>\n                      <button type=\"button\" className=\"btn bg-success-light mr-2\" onClick={()=>{deleteLanguage(id); closeModal()}}> OK </button>\n                      <button type=\"button\" className=\"btn btn-light\" data-dismiss=\"modal\" onClick={closeModal}>Cancel</button>\n                    </div>\n                  </Modal.Body>\n                </Modal>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    </>\n  );\n\n}\nexport default Languges;\n\n"]},"metadata":{},"sourceType":"module"}