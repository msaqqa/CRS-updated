{"ast":null,"code":"var _jsxFileName = \"E:\\\\CSR-master\\\\src\\\\admin\\\\components\\\\employers\\\\index.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { Table } from \"antd\";\nimport { Modal } from 'react-bootstrap';\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\"; // context\n\nimport { AdminContext } from \"../../context/admin\";\n\nclass Employers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.context.getEmployers();\n    };\n\n    this.openModal = id => {\n      this.setState({\n        activeModal: id\n      });\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        activeModal: false\n      });\n    };\n\n    this.handleEmployerJobs = async id => {\n      await this.context.getEmployerJobs(id);\n      this.props.history.push(\"/admin/employer-jobs\");\n    };\n\n    this.handleActionBtn = (name, func) => {\n      this.openModal('action');\n      this.setState({\n        action: {\n          name,\n          func\n        }\n      });\n    };\n\n    this.state = {\n      key: 1,\n      activeModal: null,\n      action: {}\n    };\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleSelect(key) {\n    this.setState({\n      key\n    });\n  }\n\n  render() {\n    const {\n      employers,\n      activateEmployer,\n      deactivateEmployer\n    } = this.context;\n    const {\n      active,\n      not_active\n    } = employers;\n    const columns = [{\n      title: \"id\",\n      dataIndex: \"id\",\n      sorter: (a, b) => a.id.length - b.id.length\n    }, {\n      title: \"Employer Name\",\n      dataIndex: \"name\",\n      render: (name, record) => {\n        const imageUrl = record.photo ? `http://excodeteam.com/crs/public/images/${record.photo}` : IMG01;\n        return /*#__PURE__*/React.createElement(\"h2\", {\n          className: \"table-avatar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: `/admin/profile/employer/${record.id}`,\n          className: \"avatar avatar-sm mr-2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          alt: \"\",\n          src: imageUrl,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }\n        })), /*#__PURE__*/React.createElement(Link, {\n          to: `/admin/profile/employer/${record.id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }\n        }, name));\n      },\n      sorter: (a, b) => a.name.length - b.name.length\n    }, {\n      title: \"Country\",\n      dataIndex: \"country_id\",\n      sorter: (a, b) => a.country_id.length - b.country_id.length\n    }, {\n      title: \"Mobile\",\n      dataIndex: \"mobile\"\n    }, {\n      title: \"Email\",\n      dataIndex: \"email\",\n      sorter: (a, b) => a.email.length - b.email.length\n    }, {\n      title: \"Jobs\",\n      dataIndex: \"id\",\n      render: (id, _ref) => {\n        let {\n          active\n        } = _ref;\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-sm bg-primary-light\",\n          onClick: () => this.handleEmployerJobs(id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }\n        }, \"View\"), active === \"0\" ? /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-sm bg-success-light\",\n          onClick: () => this.handleActionBtn(\"activate\", () => activateEmployer(id)),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }\n        }, \"Activate\") : /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-sm bg-danger-light\",\n          onClick: () => this.handleActionBtn(\"deactivate\", () => deactivateEmployer(id)),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }\n        }, \"Deactivate\"));\n      }\n    }];\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }\n    }, \"List of Employees\"), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 23\n      }\n    }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, \"Users\"), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, \"Employees\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Tabs, {\n      className: \"tab-view\",\n      activeKey: this.state.key,\n      onSelect: this.handleSelect,\n      id: \"controlled-tab-example\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Tab, {\n      className: \"nav-item\",\n      eventKey: 1,\n      title: \"Activate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-striped\",\n      style: {\n        overflowX: \"auto\"\n      },\n      columns: columns // bordered\n      ,\n      dataSource: active,\n      rowKey: record => record.id,\n      showSizeChanger: true,\n      pagination: {\n        total: active ? active.length : 0,\n        showTotal: (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n        itemRender: itemRender\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 31\n      }\n    }))))))), /*#__PURE__*/React.createElement(Tab, {\n      className: \"nav-item\",\n      eventKey: 2,\n      title: \"Deactivate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table-striped\",\n      style: {\n        overflowX: \"auto\"\n      },\n      columns: columns // bordered\n      ,\n      dataSource: not_active,\n      rowKey: record => record.id,\n      showSizeChanger: true,\n      pagination: {\n        total: not_active ? not_active.length : 0,\n        showTotal: (total, range) => `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n        showSizeChanger: true,\n        onShowSizeChange: onShowSizeChange,\n        itemRender: itemRender\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 31\n      }\n    })))))))))), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.activeModal === 'action',\n      onHide: this.closeModal,\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Body, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-content p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, this.state.action.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, \"Are you sure want to \", this.state.action.name, \"?\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: () => {\n        this.state.action.func();\n        this.closeModal();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }, \"Send\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-light\",\n      \"data-dismiss\": \"modal\",\n      onClick: () => this.closeModal(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }, \"cancel\")))))));\n  }\n\n}\n\nEmployers.contextType = AdminContext;\nexport default Employers;","map":{"version":3,"sources":["E:/CSR-master/src/admin/components/employers/index.jsx"],"names":["React","Component","Link","Tabs","Tab","Table","Modal","itemRender","onShowSizeChange","IMG01","AdminContext","Employers","constructor","props","componentDidMount","context","getEmployers","openModal","id","setState","activeModal","closeModal","handleEmployerJobs","getEmployerJobs","history","push","handleActionBtn","name","func","action","state","key","handleSelect","bind","render","employers","activateEmployer","deactivateEmployer","active","not_active","columns","title","dataIndex","sorter","a","b","length","record","imageUrl","photo","country_id","email","overflowX","total","showTotal","range","showSizeChanger","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { Table } from \"antd\";\nimport { Modal } from 'react-bootstrap';\nimport 'antd/dist/antd.css';\nimport { itemRender, onShowSizeChange } from \"../../components/paginationfunction\";\nimport IMG01 from \"../../assets/images/doctor-thumb-01.jpg\";\n// context\nimport { AdminContext } from \"../../context/admin\"\n\nclass Employers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: 1,\n      activeModal: null,\n      action: {},\n    }\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  componentDidMount = () => {\n    this.context.getEmployers();\n  }\n\n  handleSelect(key) {\n    this.setState({ key })\n  }\n\n  openModal = (id) => {\n    this.setState({ activeModal: id });\n  }\n\n  closeModal = () => {\n    this.setState({ activeModal: false });\n  };\n\n  handleEmployerJobs = async (id) => {\n    await this.context.getEmployerJobs(id);\n    this.props.history.push(\"/admin/employer-jobs\");\n  }\n\n  handleActionBtn = (name, func) => {\n    this.openModal('action');\n    this.setState({ action: { name, func } });\n  }\n\n  render() {\n    const { employers, activateEmployer, deactivateEmployer } = this.context;\n    const { active, not_active } = employers;\n    const columns = [\n      {\n        title: \"id\",\n        dataIndex: \"id\",\n        sorter: (a, b) => a.id.length - b.id.length,\n      },\n      {\n        title: \"Employer Name\",\n        dataIndex: \"name\",\n        render: (name, record) => {\n          const imageUrl = record.photo ? `http://excodeteam.com/crs/public/images/${record.photo}` : IMG01;\n          return (\n            <h2 className=\"table-avatar\">\n              <Link to={`/admin/profile/employer/${record.id}`} className=\"avatar avatar-sm mr-2\">\n                <img alt=\"\" src={imageUrl} />\n              </Link>\n              <Link to={`/admin/profile/employer/${record.id}`}>{name}</Link>\n            </h2>\n          )\n        },\n        sorter: (a, b) => a.name.length - b.name.length,\n      },\n      {\n        title: \"Country\",\n        dataIndex: \"country_id\",\n        sorter: (a, b) => a.country_id.length - b.country_id.length,\n      },\n      {\n        title: \"Mobile\",\n        dataIndex: \"mobile\",\n      },\n      {\n        title: \"Email\",\n        dataIndex: \"email\",\n        sorter: (a, b) => a.email.length - b.email.length,\n      },\n      {\n        title: \"Jobs\",\n        dataIndex: \"id\",\n        render: (id, { active }) => (\n          <>\n            <button className=\"btn btn-sm bg-primary-light\" onClick={() => this.handleEmployerJobs(id)}>View</button>\n            {active === \"0\" ?\n              <button className=\"btn btn-sm bg-success-light\" onClick={() => this.handleActionBtn(\"activate\", () => activateEmployer(id))}>Activate</button> :\n              <button className=\"btn btn-sm bg-danger-light\" onClick={() => this.handleActionBtn(\"deactivate\", () => deactivateEmployer(id))}>Deactivate</button>\n            }\n          </>\n        ),\n      },\n    ];\n\n    return (\n      <>\n        <div className=\"page-wrapper\">\n          <div className=\"content container-fluid\">\n\n            <div className=\"page-header\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\">\n                  <h3 className=\"page-title\">List of Employees</h3>\n                  <ul className=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\">\n                      <Link to=\"/admin\">Dashboard</Link>\n                    </li>\n                    <li className=\"breadcrumb-item\">Users</li>\n                    <li className=\"breadcrumb-item active\">Employees</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            {/* start */}\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <Tabs\n                  className=\"tab-view\"\n                  activeKey={this.state.key}\n                  onSelect={this.handleSelect}\n                  id=\"controlled-tab-example\"\n                >\n                  <Tab className=\"nav-item\" eventKey={1} title=\"Activate\">\n                    <div className=\"row\">\n                      <div className=\"col-sm-12\">\n                        <div className=\"card\">\n                          <div className=\"card-body\">\n                            <div className=\"table-responsive\">\n                              <Table\n                                className=\"table-striped\"\n                                style={{ overflowX: \"auto\" }}\n                                columns={columns}\n                                // bordered\n                                dataSource={active}\n                                rowKey={(record) => record.id}\n                                showSizeChanger={true}\n                                pagination={{\n                                  total: active ? active.length : 0,\n                                  showTotal: (total, range) =>\n                                    `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                  showSizeChanger: true,\n                                  onShowSizeChange: onShowSizeChange,\n                                  itemRender: itemRender,\n                                }}\n                              />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </Tab>\n                  <Tab className=\"nav-item\" eventKey={2} title=\"Deactivate\">\n                    <div className=\"row\">\n                      <div className=\"col-sm-12\">\n                        <div className=\"card\">\n                          <div className=\"card-body\">\n                            <div className=\"table-responsive\">\n                              <Table\n                                className=\"table-striped\"\n                                style={{ overflowX: \"auto\" }}\n                                columns={columns}\n                                // bordered\n                                dataSource={not_active}\n                                rowKey={(record) => record.id}\n                                showSizeChanger={true}\n                                pagination={{\n                                  total: not_active ? not_active.length : 0,\n                                  showTotal: (total, range) =>\n                                    `Showing ${range[0]} to ${range[1]} of ${total} entries`,\n                                  showSizeChanger: true,\n                                  onShowSizeChange: onShowSizeChange,\n                                  itemRender: itemRender,\n                                }}\n                              />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </Tab>\n                </Tabs>\n              </div>\n            </div>\n            {/* end */}\n\n            {/* action Modal */}\n            <Modal show={this.state.activeModal === 'action'} onHide={this.closeModal} centered>\n              <Modal.Body className=\"text-center\">\n                <div className=\"form-content p-2\">\n                  <h4 className=\"modal-title\">{this.state.action.name}</h4>\n                  <p className=\"mb-4\">Are you sure want to {this.state.action.name}?</p>\n                  <button type=\"button\" className=\"btn btn-success\" onClick={() => { this.state.action.func(); this.closeModal() }}>Send</button>\n                  <button type=\"button\" className=\"btn btn-light\" data-dismiss=\"modal\" onClick={() => this.closeModal()}>cancel</button>\n                </div>\n              </Modal.Body>\n            </Modal>\n\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nEmployers.contextType = AdminContext;\nexport default Employers;"]},"metadata":{},"sourceType":"module"}