{"ast":null,"code":"import _objectSpread from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\CSR-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import DoctorSidebar from'../sidebar';import{Link,useHistory}from'react-router-dom';import ProgressBar from'react-customizable-progressbar';import StickyBox from\"react-sticky-box\";import{Icon01,Icon02,Icon03,IMG01}from'./img';import{Modal}from'react-bootstrap';// context\nimport{EmployerContext}from\"../../../context/employer\";import ReactHtmlParser from'react-html-parser';import moment from\"moment\";import PageLoading from\"../../loading/pageloading\";import ViewProposal from\"../viewproposal\";function EmployerDashboard(){var history=useHistory();// context values\nvar _useContext=useContext(EmployerContext),getLastProposals=_useContext.getLastProposals,lastProposals=_useContext.lastProposals,total=_useContext.total,getJobWithProposals=_useContext.getJobWithProposals,viewProposal=_useContext.viewProposal,acceptProposal=_useContext.acceptProposal,selectProposal=_useContext.selectProposal,rejectProposal=_useContext.rejectProposal,loading=_useContext.loading;// state values\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeModal=_useState2[0],setActiveModal=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),proposalDetails=_useState4[0],setProposalDetalis=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),action=_useState6[0],setAction=_useState6[1];useEffect(function(){getLastProposals();},[]);var openModal=function openModal(id){setActiveModal(id);};var closeModal=function closeModal(){setActiveModal(false);};var handleViewBtn=function handleViewBtn(proposal,id){setProposalDetalis(proposal);openModal(\"coverLetter\");viewProposal(id);};var handleActionBtn=function handleActionBtn(name,func){openModal('action');setAction({name:name,func:func});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"breadcrumb-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-12\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\",className:\"page-breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/home\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Dashboard\"))),/*#__PURE__*/React.createElement(\"h2\",{className:\"breadcrumb-title\"},\"Dashboard\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\"},/*#__PURE__*/React.createElement(StickyBox,{offsetTop:20,offsetBottom:20},/*#__PURE__*/React.createElement(DoctorSidebar,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-7 col-lg-8 col-xl-9\"},loading?/*#__PURE__*/React.createElement(PageLoading,{loading:loading}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card dash-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget dct-border-rht\"},/*#__PURE__*/React.createElement(ProgressBar,{width:20,radius:100,progress:50,rotate:-210,strokeWidth:16,strokeColor:\"#da3f81\",strokeLinecap:\"square\",trackStrokeWidth:8,trackStrokeColor:\"#e6e6e6\",trackStrokeLinecap:\"square\",pointerRadius:0,initialAnimation:true,transition:\"1.5s ease 0.5s\",trackTransition:\"0s ease\"},/*#__PURE__*/React.createElement(\"div\",{className:\"indicator-volume\"},/*#__PURE__*/React.createElement(\"img\",{src:Icon01,className:\"img-fluid\",alt:\"Patient\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget-info\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Total Jobs\"),/*#__PURE__*/React.createElement(\"h3\",null,total.totalJobs),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Till Today\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget dct-border-rht\"},/*#__PURE__*/React.createElement(ProgressBar,{width:20,radius:100,progress:60,rotate:-210,strokeWidth:16,strokeColor:\"#68dda9\",strokeLinecap:\"square\",trackStrokeWidth:8,trackStrokeColor:\"#e6e6e6\",trackStrokeLinecap:\"square\",pointerRadius:0,initialAnimation:true,transition:\"1.5s ease 0.5s\",trackTransition:\"0s ease\"},/*#__PURE__*/React.createElement(\"div\",{className:\"indicator-volume\"},/*#__PURE__*/React.createElement(\"img\",{src:Icon02,className:\"img-fluid\",alt:\"Patient\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget-info\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Total Proposals\"),/*#__PURE__*/React.createElement(\"h3\",null,total.totalProposals),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"06, Nov 2019\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget\"},/*#__PURE__*/React.createElement(ProgressBar,{width:20,radius:100,progress:70,rotate:-210,strokeWidth:16,strokeColor:\"#1b5a90\",strokeLinecap:\"square\",trackStrokeWidth:8,trackStrokeColor:\"#e6e6e6\",trackStrokeLinecap:\"square\",pointerRadius:0,initialAnimation:true,transition:\"1.5s ease 0.5s\",trackTransition:\"0s ease\"},/*#__PURE__*/React.createElement(\"div\",{className:\"indicator-volume\"},/*#__PURE__*/React.createElement(\"img\",{src:Icon03,className:\"img-fluid\",alt:\"Patient\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"dash-widget-info\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Total Closed Jobs\"),/*#__PURE__*/React.createElement(\"h3\",null,total.totalCompletedJobs),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"06, Apr 2019\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-4\"},\"Last Proposals\"),/*#__PURE__*/React.createElement(\"div\",{className:\"appointment-tab\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-pane show active\",id:\"upcoming-appointments\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-table mb-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-hover table-center mb-0\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Eployee Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Job Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Posted At\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"))),/*#__PURE__*/React.createElement(\"tbody\",null,lastProposals.map(function(item,index){var employee=item.employee,job=item.job,id=item.id,message=item.message,created_at=item.created_at,status=item.status;var name=employee.name,photo=employee.photo;var photoUrl=photo?\"http://excodeteam.com/crs/public/images/\".concat(photo):IMG01;var jobObj=job?_objectSpread({},job):{};var JobId=jobObj.id,title=jobObj.title,image=jobObj.image;var imageUrl=image?\"http://excodeteam.com/crs/public/images/\".concat(image):IMG01;var posted_at=moment(created_at).format(\"YYYY-MM-DD\");var proposalStatus=status===\"0\"?\"Pending\":status===\"1\"?\"Accepted\":status===\"2\"?\"Selected\":\"Rejected\";var statusClass=status===\"0\"?\"warning\":status===\"1\"?\"primary\":status===\"2\"?\"success\":\"danger\";var proposal=_objectSpread(_objectSpread({},employee),{},{message:message,photoUrl:photoUrl,status:status,proposalId:id});return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return handleViewBtn(proposal,id);},className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"avatar-img rounded-circle\",src:photoUrl,alt:\"User\"})),/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(){return handleViewBtn(proposal,id);}},name))),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"table-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"/employer/jobs/single-job/\".concat(JobId),className:\"avatar avatar-sm mr-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"avatar-img rounded-circle\",src:imageUrl,alt:\"User\"})),/*#__PURE__*/React.createElement(Link,{to:\"/employer/jobs/single-job/\".concat(JobId)},title))),/*#__PURE__*/React.createElement(\"td\",null,posted_at),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-pill bg-\".concat(statusClass,\"-light\")},proposalStatus)),/*#__PURE__*/React.createElement(\"td\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-action\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-info-light\",onClick:function onClick(){return handleViewBtn(proposal,id);}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-eye\"}),\" View\"),status===\"0\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-primary-light\",onClick:function onClick(){return handleActionBtn(\"Accept\",function(){return acceptProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"}),\" Accept\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-danger-light\",onClick:function onClick(){return handleActionBtn(\"Reject\",function(){return rejectProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"}),\" Reject\")):status===\"1\"?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm bg-success-light\",onClick:function onClick(){return handleActionBtn(\"Select\",function(){return selectProposal(id);});}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check-double\"}),\" Select\"):null)));}))),/*#__PURE__*/React.createElement(ViewProposal,{proposal:proposalDetails,activeModal:activeModal,closeModal:closeModal,handleActionBtn:handleActionBtn}),/*#__PURE__*/React.createElement(Modal,{show:activeModal==='action',onHide:closeModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,{className:\"text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-content p-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"modal-title\"},action.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-4\"},\"Are you sure want to \",action.name,\"?\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn bg-success-light mr-2\",onClick:function onClick(){action.func();closeModal();}},\" OK \"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn bg-danger-light\",\"data-dismiss\":\"modal\",onClick:closeModal},\"Cancel\")))))))))))))))));}export default EmployerDashboard;","map":{"version":3,"sources":["E:/CSR-master/src/client/components/employer/dashboard/index.jsx"],"names":["React","useContext","useState","useEffect","DoctorSidebar","Link","useHistory","ProgressBar","StickyBox","Icon01","Icon02","Icon03","IMG01","Modal","EmployerContext","ReactHtmlParser","moment","PageLoading","ViewProposal","EmployerDashboard","history","getLastProposals","lastProposals","total","getJobWithProposals","viewProposal","acceptProposal","selectProposal","rejectProposal","loading","activeModal","setActiveModal","proposalDetails","setProposalDetalis","action","setAction","openModal","id","closeModal","handleViewBtn","proposal","handleActionBtn","name","func","totalJobs","totalProposals","totalCompletedJobs","map","item","index","employee","job","message","created_at","status","photo","photoUrl","jobObj","JobId","title","image","imageUrl","posted_at","format","proposalStatus","statusClass","proposalId"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport DoctorSidebar from '../sidebar';\nimport { Link, useHistory } from 'react-router-dom';\nimport ProgressBar from 'react-customizable-progressbar';\nimport StickyBox from \"react-sticky-box\";\nimport { Icon01, Icon02, Icon03, IMG01 } from './img';\nimport { Modal } from 'react-bootstrap';\n// context\nimport { EmployerContext } from \"../../../context/employer\";\nimport ReactHtmlParser from 'react-html-parser';\nimport moment from \"moment\";\nimport PageLoading from \"../../loading/pageloading\";\nimport ViewProposal from \"../viewproposal\"\n\nfunction EmployerDashboard() {\n\n  const history = useHistory();\n  // context values\n  const { getLastProposals, lastProposals, total, getJobWithProposals, viewProposal, acceptProposal, selectProposal, rejectProposal, loading } = useContext(EmployerContext);\n\n  // state values\n  const [activeModal, setActiveModal] = useState(null);\n  const [proposalDetails, setProposalDetalis] = useState({});\n  const [action, setAction] = useState({});\n\n  useEffect(() => {\n    getLastProposals();\n  }, [])\n\n  const openModal = (id) => {\n    setActiveModal(id);\n  }\n\n  const closeModal = () => {\n    setActiveModal(false);\n  };\n\n  const handleViewBtn = (proposal, id) => {\n    setProposalDetalis(proposal);\n    openModal(\"coverLetter\");\n    viewProposal(id);\n  }\n\n  const handleActionBtn = (name, func) => {\n    openModal('action');\n    setAction({ name, func });\n  }\n\n  return (\n    <>\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><Link to=\"/home\">Home</Link></li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">Dashboard</li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Dashboard</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <StickyBox offsetTop={20} offsetBottom={20}>\n                <DoctorSidebar />\n              </StickyBox>\n            </div>\n\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n              {\n                loading ? <PageLoading loading={loading} /> :\n                  <>\n\n                    <div className=\"row\">\n                      <div className=\"col-md-12\">\n                        <div className=\"card dash-card\">\n                          <div className=\"card-body\">\n                            <div className=\"row\">\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget dct-border-rht\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={50}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#da3f81\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon01} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Jobs</h6>\n                                    <h3>{total.totalJobs}</h3>\n                                    <p className=\"text-muted\">Till Today</p>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget dct-border-rht\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={60}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#68dda9\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon02} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Proposals</h6>\n                                    <h3>{total.totalProposals}</h3>\n                                    <p className=\"text-muted\">06, Nov 2019</p>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={70}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#1b5a90\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon03} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Closed Jobs</h6>\n                                    <h3>{total.totalCompletedJobs}</h3>\n                                    <p className=\"text-muted\">06, Apr 2019</p>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-md-12\">\n                        <h4 className=\"mb-4\">Last Proposals</h4>\n                        <div className=\"appointment-tab\">\n                          <div className=\"tab-pane show active\" id=\"upcoming-appointments\">\n                            <div className=\"card card-table mb-0\">\n                              <div className=\"card-body\">\n                                <div className=\"table-responsive\">\n                                  <table className=\"table table-hover table-center mb-0\">\n                                    <thead>\n                                      <tr>\n                                        <th>Eployee Name</th>\n                                        <th>Job Title</th>\n                                        <th>Posted At</th>\n                                        <th>Status</th>\n                                      </tr>\n                                    </thead>\n                                    <tbody>\n                                      {\n                                        lastProposals.map((item, index) => {\n                                          const { employee, job, id, message, created_at, status } = item;\n                                          const { name, photo } = employee;\n                                          const photoUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n                                          const jobObj = job ? { ...job } : {};\n                                          const { id: JobId, title, image } = jobObj;\n                                          const imageUrl = image ? `http://excodeteam.com/crs/public/images/${image}` : IMG01;\n                                          const posted_at = moment(created_at).format(\"YYYY-MM-DD\");\n                                          const proposalStatus = status === \"0\" ? \"Pending\" : status === \"1\" ? \"Accepted\" : status === \"2\" ? \"Selected\" : \"Rejected\";\n                                          const statusClass = status === \"0\" ? \"warning\" : status === \"1\" ? \"primary\" : status === \"2\" ? \"success\" : \"danger\";\n\n                                          const proposal = { ...employee, message, photoUrl, status, proposalId: id };\n                                          return (\n                                            <tr key={id}>\n                                              <td>\n                                                <h2 className=\"table-avatar\">\n                                                  <Link to=\"#\" onClick={() => handleViewBtn(proposal, id)} className=\"avatar avatar-sm mr-2\">\n                                                    <img className=\"avatar-img rounded-circle\" src={photoUrl} alt=\"User\" />\n                                                  </Link>\n                                                  <Link to=\"#\" onClick={() => handleViewBtn(proposal, id)}>\n                                                    {name}\n                                                  </Link>\n                                                </h2>\n                                              </td>\n                                              <td>\n                                                <h2 className=\"table-avatar\">\n                                                  <Link to={`/employer/jobs/single-job/${JobId}`} className=\"avatar avatar-sm mr-2\">\n                                                    <img className=\"avatar-img rounded-circle\" src={imageUrl} alt=\"User\" />\n                                                  </Link>\n                                                  <Link to={`/employer/jobs/single-job/${JobId}`}>\n                                                    {title}\n                                                  </Link>\n                                                </h2>\n                                              </td>\n                                              <td>{posted_at}</td>\n                                              <td><span className={`badge badge-pill bg-${statusClass}-light`}>{proposalStatus}</span></td>\n                                              <td className=\"text-right\">\n                                                <div className=\"table-action\">\n                                                  <button className=\"btn btn-sm bg-info-light\" onClick={() => handleViewBtn(proposal, id)}>\n                                                    <i className=\"far fa-eye\"></i> View\n                                                  </button>\n                                                  {\n                                                    status === \"0\" ?\n                                                      <>\n                                                        <button className=\"btn btn-sm bg-primary-light\"\n                                                          onClick={() => handleActionBtn(\"Accept\", () => acceptProposal(id))}>\n                                                          <i className=\"fas fa-check\"></i> Accept\n                                                        </button>\n                                                        <button className=\"btn btn-sm bg-danger-light\"\n                                                          onClick={() => handleActionBtn(\"Reject\", () => rejectProposal(id))}>\n                                                          <i className=\"fas fa-times\"></i> Reject\n                                                        </button>\n                                                      </>\n                                                      : status === \"1\" ?\n                                                        <button className=\"btn btn-sm bg-success-light\"\n                                                          onClick={() => handleActionBtn(\"Select\", () => selectProposal(id))}>\n                                                          <i className=\"fas fa-check-double\"></i> Select\n                                                        </button>\n                                                        : null\n                                                  }\n                                                </div>\n                                              </td>\n                                            </tr>\n                                          )\n                                        })\n                                      }\n                                    </tbody>\n                                  </table>\n\n                                  {/* cover letter modal */}\n                                  <ViewProposal proposal={proposalDetails} activeModal={activeModal} closeModal={closeModal} handleActionBtn={handleActionBtn} />\n\n                                  {/* action modal */}\n                                  <Modal show={activeModal === 'action'} onHide={closeModal} centered>\n                                    <Modal.Body className=\"text-center\">\n                                      <div className=\"form-content p-2\">\n                                        <h4 className=\"modal-title\">{action.name}</h4>\n                                        <p className=\"mb-4\">Are you sure want to {action.name}?</p>\n                                        <button type=\"button\" className=\"btn bg-success-light mr-2\" onClick={() => { action.func(); closeModal() }}> OK </button>\n                                        <button type=\"button\" className=\"btn bg-danger-light\" data-dismiss=\"modal\" onClick={closeModal}>Cancel</button>\n                                      </div>\n                                    </Modal.Body>\n                                  </Modal>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                  </>\n              }\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default EmployerDashboard;"]},"metadata":{},"sourceType":"module"}