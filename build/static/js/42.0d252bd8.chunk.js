(this["webpackJsonpcrs-project"]=this["webpackJsonpcrs-project"]||[]).push([[42],{141:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(0),r=a.n(n);function c(e,t,a){return"prev"===t?r.a.createElement("a",{href:"#0"},"Previous"):"next"===t?r.a.createElement("a",{href:"#0"},"Next"):a}function l(e,t){}},279:function(e,t){e.exports="data:image/png;base64,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"},710:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(11),l=a(7),s=a(16),o=a(17),i=a(18),m=a(19),d=a(0),u=a.n(d),g=a(719),E=(a(158),a(25)),h=a(720),b=a(141),f=a(165),A=a(166),N=a(279),v=a.n(N),p=a(135),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.context.getCategories()},n.handleClose=function(){n.setState({show:!1})},n.handleShow=function(e){n.setState({show:e})},n.handleAddBtn=function(){n.setState({id:"",name:"",parent:"",image:"",isEdit:!1}),n.handleShow("edit")},n.handleEditBtn=function(e){var t=e.id,a=e.name,r=e.parent,c=e.image;n.setState({id:t,name:a,parent:r,image:c,isEdit:!0}),n.handleShow("edit")},n.handleDeleteBtn=function(e){n.setState({id:e}),n.handleShow("delete")},n.initialValues=function(){return{name:n.state.name,parent:n.state.parent,image:null}},n.validationSchema=function(){var e=["image/jpg","image/jpeg","image/gif","image/png"];return A.c().shape({name:A.e().required("Required"),parent:A.e().required("Required"),image:A.a().required("Required").test("fileFormat","Unsupported Format",(function(t){return t&&e.includes(t.type)}))})},n.handleSubmit=function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.id,!n.state.isEdit){e.next=6;break}return e.next=4,n.context.updateCategory(Object(c.a)({id:a},t));case 4:e.next=8;break;case 6:return e.next=8,n.context.addCategory(t);case 8:n.handleClose();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={show:null,isEdit:!1,id:"",name:"",parent:"",image:null},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.categories,n=t.getSubCategories,r=a,c=[{title:"#",dataIndex:"id",sorter:function(e,t){return e.id.length-t.id.length}},{title:"Category",dataIndex:"name",render:function(e,t){var a=t.image,r=t.name,c=t.id,l=a?"http://excodeteam.com/crs/public/images/".concat(a):v.a;return u.a.createElement("h2",{className:"table-avatar"},u.a.createElement(E.b,{to:"/admin/categories/".concat(c),onClick:function(){return n(c)},className:"avatar avatar-sm mr-2"},u.a.createElement("img",{src:l,className:"avatar-img",alt:""})),u.a.createElement(E.b,{to:"/admin/categories/".concat(c),onClick:function(){return n(c)}},r))},sorter:function(e,t){return e.name.length-t.name.length}},{title:"Actions",dataIndex:"id",render:function(t,a){return u.a.createElement("div",{className:"actions"},u.a.createElement("button",{className:"btn btn-sm bg-success-light",onClick:function(){return e.handleEditBtn(a)}},u.a.createElement("i",{className:"fe fe-pencil"})," Edit"),u.a.createElement("button",{className:"btn btn-sm bg-danger-light",onClick:function(){return e.handleDeleteBtn(t)}},u.a.createElement("i",{className:"fe fe-trash"})," Delete"))}}];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"content container-fluid"},u.a.createElement("div",{className:"page-header"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-7 col-auto"},u.a.createElement("h3",{className:"page-title"},"Categories"),u.a.createElement("ul",{className:"breadcrumb"},u.a.createElement("li",{className:"breadcrumb-item"},u.a.createElement(E.b,{to:"/admin"},"Dashboard")),u.a.createElement("li",{className:"breadcrumb-item active"},"Categories"))),u.a.createElement("div",{className:"col-sm-5 col"},u.a.createElement("button",{className:"btn btn-primary float-right mt-2",onClick:this.handleAddBtn},"Add")))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"table-responsive"},u.a.createElement(g.a,{className:"table-striped",style:{overflowX:"auto"},columns:c,dataSource:r,ascend:!0,rowKey:function(e){return e.id},showSizeChanger:!0,pagination:{total:r.length,showTotal:function(e,t){return"Showing ".concat(t[0]," to ").concat(t[1]," of ").concat(e," entries")},showSizeChanger:!0,onShowSizeChange:b.b,itemRender:b.a}}))))))),u.a.createElement(h.a,{show:"edit"===this.state.show,onHide:this.handleClose,centered:!0},u.a.createElement(h.a.Header,{closeButton:!0},u.a.createElement(h.a.Title,null,u.a.createElement("h5",{className:"modal-title"},"Category"))),u.a.createElement(h.a.Body,null,u.a.createElement(f.e,{initialValues:this.initialValues(),validationSchema:this.validationSchema,onSubmit:this.handleSubmit,validateOnChange:!1,enableReinitialize:!0},(function(e){var t=e.setFieldValue;return u.a.createElement(f.d,null,u.a.createElement("div",{className:"row form-row"},u.a.createElement("div",{className:"col-12 col-sm-6"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Category Name"),u.a.createElement(f.b,{type:"text",name:"name",className:"form-control"}),u.a.createElement(f.a,{name:"name"}))),u.a.createElement("div",{className:"col-12 col-sm-6"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Main Category"),u.a.createElement(f.b,{as:"select",name:"parent",className:"form-control"},u.a.createElement("option",{value:"",disabled:!0},"Select Parent Category"),u.a.createElement("option",{value:"0"},"Main Category"),a.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.name)}))),u.a.createElement(f.a,{name:"parent"}))),u.a.createElement("div",{className:"col-12"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Image"),u.a.createElement(f.b,{type:"file",name:"file",className:"form-control",onChange:function(e){t("image",e.currentTarget.files[0])}}),u.a.createElement(f.a,{name:"image"})))),u.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Save Changes"))})))),u.a.createElement(h.a,{show:"delete"===this.state.show,onHide:this.handleClose,centered:!0},u.a.createElement(h.a.Body,{className:"text-center"},u.a.createElement("div",{className:"form-content p-2"},u.a.createElement("h4",{className:"modal-title"},"Delete"),u.a.createElement("p",{className:"mb-4"},"Are you sure want to delete?"),u.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.context.deleteCategory(e.state.id),e.handleClose()}},"Save "),u.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){return e.handleClose()}},"Close"))))))}}]),a}(d.Component);S.contextType=p.a,t.default=S}}]);
//# sourceMappingURL=42.0d252bd8.chunk.js.map