{"version":3,"sources":["client/components/employer/viewproposal/index.jsx","client/assets/images/icon-01.png","client/assets/images/icon-02.png","client/assets/images/icon-03.png","client/components/employer/dashboard/index.jsx"],"names":["ViewProposal","proposal","activeModal","closeModal","handleActionBtn","status","proposalId","statusName","useContext","EmployerContext","acceptProposal","selectProposal","rejectProposal","size","show","onHide","centered","Header","closeButton","className","Body","src","photoUrl","alt","name","moment","birthDate","format","country_id","onClick","ReactHtmlParser","message","educations","map","item","index","key","title","specialization","works","months","languages","id","level","skills","module","exports","EmployerDashboard","useHistory","getLastProposals","lastProposals","total","viewProposal","getJobWithProposals","loading","useState","setActiveModal","proposalDetails","setProposalDetalis","action","setAction","useEffect","openModal","func","aria-label","to","aria-current","offsetTop","offsetBottom","width","radius","progress","rotate","strokeWidth","strokeColor","strokeLinecap","trackStrokeWidth","trackStrokeColor","trackStrokeLinecap","pointerRadius","initialAnimation","transition","trackTransition","Icon01","totalJobs","Icon02","totalProposals","Icon03","totalCompletedJobs","employee","job","created_at","photo","IMG01","jobObj","JobId","image","imageUrl","posted_at","proposalStatus","statusClass","handleViewBtn","Modal","type","data-dismiss"],"mappings":"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","file":"static/js/33.af91ebbd.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport ReactHtmlParser from 'react-html-parser';\nimport moment from \"moment\";\nimport { EmployerContext } from \"../../../context/employer\";\n\nfunction ViewProposal({proposal, activeModal, closeModal, handleActionBtn}) {\n  const {status, proposalId} = proposal;\n  const statusName = status === \"0\"? \"Penging Proposal\" : status === \"1\"? \"Accepted Proposal\" : status === \"2\"? \"selected Proposal\" : \"Rejected Proposal\";\n  const {acceptProposal, selectProposal, rejectProposal} = useContext(EmployerContext);\n\n  return (\n    <Modal size=\"lg\" show={activeModal === 'coverLetter'} onHide={closeModal} centered>\n      <Modal.Header closeButton>\n        <h5 className=\"modal-title\">Cover Letter</h5>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <div className=\"doctor-widget\">\n              <div className=\"doc-info-left\">\n                <div className=\"doctor-img\">\n                  <img src={proposal.photoUrl} className=\"img-fluid\" alt=\"User\" />\n                </div>\n                <div className=\"doc-info-cont\">\n                  <h4 className=\"doc-name\">{proposal.name}</h4>\n                  {/* <h5 className=\"doc-department\"><img src={categoryImgUrl} className=\"img-fluid\" alt=\"Category\" />{categoryName}</h5> */}\n                  <ul className=\"entry-meta meta-item\">\n                    {/* <li><i className=\"fab fa-sketch\"></i> {proposal.category? proposal.category.name : null}</li> */}\n                    <li><i className=\"fas fa-sun\"></i> {statusName}</li>\n                    <li><i className=\"fas fa-birthday-cake\"></i> {moment(proposal.birthDate).format(\"YYYY-MM-DD\")}</li>\n                    <li><i className=\"fas fa-map-marker-alt\"></i> {proposal.country_id}</li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"doc-info-right\">\n                <div className=\"clinic-booking\">\n                  {\n                    (status === \"0\")?\n                    <>\n                      <button className=\"bg-primary-light\" onClick={()=>handleActionBtn(\"Process\", ()=>acceptProposal(proposalId))}>\n                        <i className=\"fas fa-check\"></i> Accept\n                      </button>\n                      <button className=\"bg-danger-light\" onClick={()=>handleActionBtn(\"Close\", ()=>rejectProposal(proposalId))}>\n                        <i className=\"fas fa-times\"></i> Reject\n                      </button>\n                    </>\n                    : (status === \"1\")?\n                    <>\n                      <button className=\"bg-success-light\" onClick={()=>handleActionBtn(\"Open\", ()=>selectProposal(proposalId))}>\n                        <i className=\"fas fa-check-double\"></i> Select\n                      </button>\n                    </>\n                    : null\n                  }\n                </div>\n            </div>\n          </div>\n          </div>\n        </div>\n\n        <div className=\"card\">\n          <div className=\"card-body\">\n            {ReactHtmlParser(proposal.message)}\n          </div>\n        </div>\n            \n        <div className=\"card\">\n          <div className=\"card-body\">\n\n            <div className=\"widget education-widget\">\n              <h4 className=\"widget-title\">Educations</h4>\n              <div className=\"experience-box\">\n                <ul className=\"experience-list\">\n                  {\n                    proposal.educations && proposal.educations.map((item, index)=>{\n                      return (\n                        <li key={index}>\n                          <div className=\"experience-user\">\n                            <div className=\"before-circle\"></div>\n                          </div>\n                          <div className=\"experience-content\">\n                            <div className=\"timeline-content\">\n                                <p>{`${item.title} in ${item.specialization}`}</p>\n                            </div>\n                          </div>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"widget experience-widget\">\n              <h4 className=\"widget-title\">Work & Experience</h4>\n              <div className=\"experience-box\">\n                <ul className=\"experience-list\">\n                  {\n                    proposal.works && proposal.works.map((item, index)=>{\n                      return (\n                        <li key={index}>\n                          <div className=\"experience-user\">\n                            <div className=\"before-circle\"></div>\n                          </div>\n                          <div className=\"experience-content\">\n                            <div className=\"timeline-content\">\n                              <p>{`${item.months} month as ${item.title}`}</p>\n                            </div>\n                          </div>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n              </div>\n            </div>\n\n            <div className=\"service-list\">\n              <h4>Languages</h4>\n              <ul className=\"clearfix\">\n                {\n                  proposal.languages && proposal.languages.map(item=>{\n                    return(\n                      <li key={item.id}>\n                        {`${item.name} (${item.level})`}\n                      </li>\n                    )\n                  })\n                }\n              </ul>\n            </div>\n\n            <div className=\"service-list\">\n              <h4>Skills</h4>\n              <ul className=\"clearfix\">\n                {\n                  proposal.skills && proposal.skills.map(item=>{\n                    return(\n                      <li key={item.id}>\n                        {item.name}\n                      </li>\n                    )\n                  })\n                }\n              </ul>\n            </div>\n\n\n\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  )\n}\n\nexport default ViewProposal\n\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAmCAMAAADkx9tQAAAAq1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0NbREAAAAOHRSTlMACAQOlwsivBOneDnOrn7AiWMwHRbDnpFyV0pFPRnKNCm5taKCXU/a1Me0sqpBbWdSJuGGhUyb7o8CK3kAAAJkSURBVDjLdZEHcuMwDEU/SdHqvfdmySVxdxLf/2Rr0YpTdvfNaEDhCQRF4BdlV9l2ZXL8m13ECFHC8j9aafO3Xbqlz4QnOY5jMQiYYzuHQ7xJyKfeXj1dt1Ox9leuyHNNnr93z6oj9dXqNNWudcyM8qPeTvKjT5r2AKAb8USLRehC9bVEdk4Br8UXdONP4aV89NgDUYNv5Jo4WQB/TzEkoAafC8VvLbaimvH17YLBxeFmqq+CdgG/l29vU7WC4d5mOJZyqcwEFFRhjcHu1cF9CQxj846fULsEOi3Ldm9HOaOqY1nW0loulyJokkQBO9onSaKtjvT15ua6XuR5nk0huTl3bUrH4zC6rXZZhoAeFABIfQ/MliyA1Wq3u7mLTELPqVVZdPSoFLpoEtgMQFMdzhSBTZYeQABNFWFMeUjEjYl5DMaH9Bh5wqegnucBLR7poFj5QMAej2fUDE8tKDYUeqVdDR9M7PhTY79RwHcFRbnO8LfG2zYLKC2Hlxq/NGWcE5rdDLk7f+iUcM6/6VMYrkPD7ntGiK+qVWWvw63yqUlXQzN361HMmhw2RZgi7z81MwkgWXW/rH1fjyXvXQN499TqVKb1mevE8WXIpBQAe3nqrRdwoI6iq2U5sdPghyaGHLUNQP1iHOvFPnYvasnNr94ldWPMeNFJTQt1EQkdTb0JiqfemVO6e2hWBULnDgQkbbQLlNXpsTlSw72ad72uG1BPl1Ym10xDF0cT26fOXStJfKBcM+LdLfISHU8N8J48z7WnQSqJpIkZJvtk5vhO4dn8vjqFn5peDXmmMtp2M721m/0fDSU2LwWAAvEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAMAAAC7faEHAAAApVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABU/knhAAAANnRSTlMAo7M9BscnDS10Ih4K3c54rxPCnCobQQi9qk4X85WQfW7muVdF7tqmgkw2VNbTyWPgZ5eHL1xnT5H3AAACEElEQVQ4y8XP15raMBAF4GOw5LVsCVdc1wWM6W2L3v/RQlw2CyuSy/w30qeZb3QGD5qa85bzuoGKq2MwOYehG4bnCXo7fGO3AQYxAyjA4mFAbYyjsix7ldeveQGmcopggc5epmNBCDHZHiO4VVVdZ3nocsldNvQt4niIpN8A5AMamW3KYsXAaoagz8c8w7tL+Flk3OgGfAAZEBA3siOU79jmm5vZmPIg+uuCdocl+YGLlFjQm+XNFgNNZv2+S9twDTsVoWGk0sOjbYxOSur8lNekW7P4xCODoac3SZQ0ev8Y3Y2qbHxD66qm+Kk5xBq+iWZyFuEnf24I/S5Ca0DhbW5491G5su91bhzPfhyvl+jZ3Fb32TmfB8GOlHD3Zmm+yTdzNqqm+p95bdj9d+AiKU2zOlfml/cFX4594x5ko/owEO/jv6uzDiAVUIqOyzGf9JJkIXdQs1YGgGKq5/GOMbbR8IQ2ByJSpNK0GAun0gxeHn24YIHj6Fh7fuKvJzdOdzxYzFFMfG+NnOLfaA6H+K++X2jP+M6tThxEu+ZSmqt0qpauqvLS7CLcJFbm4RkvsxL0HGoRHWo6sajzn/sSav1lD4sOe9gHlq1cqLmrjLV2dy3liyULqBXSepFlN+60boXGbajYXBPt+vS7qJ+CMGQXXb3GhYVhcOqKe0Gpd4Xa1aNU7NHZkuMez+yPZAvgF4a1L+6wKdKKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAArlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABeyFOlAAAAOXRSTlMA5gMwCdooFAcNGhcQ62cs8KYk9LnhxjkdwWJUqnRbr6GWj4pE+bSrnHpuS9N+Xlg+19CHgzTVyh+Q9RBdAAACXUlEQVQ4y42TiW6jMBCGxxODTcDcN0ub+2yOJunh93+xHRPaJtKm2k9izC++ka2xgG+GaR7DDW7+QfkezMcTC26oonPO7wxEwTwn8/AbHro8senlS5mNllGqhZek0Z+eKGVDrvPRcrkWnTMJ1/X+Mncctav9nnqtBNfjuvajxCUp0KVR2SBIEH5IjnbiAbF6pvK0AEMbzs9ww0arS9f0pqjsIzBgbCPcEgfXHDAqh4pLzrlElPwHaTJZCAMjbefWq0W8v9DSc82WD95S2kZqXoLY/jceoHvd7mkJvzLopOf/l/Ba8S7cS87lY480k2oZA8hNtZEA8XP6dithWm2sFmK9m7AhjE9+vgIxn1zmwY0UaAcGGicrgKpxkiG4IW9SgOmkl2oKbjLj7QfsX7xPVmB2cJoMC+V6ud9LTdRNlKkY+ELrsYQiZMkR5FjrBe8l6QAxLARVXgyQFrdwqeLgTUIvUSoDAY/opW0eJioNgHDqxjQHvknyUDtf0jo8OFKsky05dK90jEOYqz3wXFmWd5VmrARDEZbQpsBPM2kVUFjyeJIYbToJWQOEHMJ0BLsIZDXjzIY447MKYbzrJJeZfXH0gp8KBRstaIeWndkOnGwRsbKT4nfwxuXUEiBI/1xNPWrZRg0CiOmKHCOJkMtUZ/TJVvLRCJDVdOsuhdXo8ZxsOqZha/GHkhRV+BQLu9UTTxAuqQ6g6HAF76SRxbTW5rEyRmgfeMTLV8UMKpJG0q1HHUPXFENJvR7gNQg/dMzfombwCyWNpVDQWsdg8IigCafH0xRwnbHHZK8ZO8u/jjAy2BKzhgMAAAAASUVORK5CYII=\"","import React, { useContext, useState, useEffect } from 'react';\nimport DoctorSidebar from '../sidebar';\nimport { Link, useHistory } from 'react-router-dom';\nimport ProgressBar from 'react-customizable-progressbar';\nimport StickyBox from \"react-sticky-box\";\nimport { Icon01, Icon02, Icon03, IMG01 } from './img';\nimport { Modal } from 'react-bootstrap';\n// context\nimport { EmployerContext } from \"../../../context/employer\";\nimport ReactHtmlParser from 'react-html-parser';\nimport moment from \"moment\";\nimport PageLoading from \"../../loading/pageloading\";\nimport ViewProposal from \"../viewproposal\"\n\nfunction EmployerDashboard() {\n\n  const history = useHistory();\n  // context values\n  const { getLastProposals, lastProposals, total, getJobWithProposals, viewProposal, acceptProposal, selectProposal, rejectProposal, loading } = useContext(EmployerContext);\n\n  // state values\n  const [activeModal, setActiveModal] = useState(null);\n  const [proposalDetails, setProposalDetalis] = useState({});\n  const [action, setAction] = useState({});\n\n  useEffect(() => {\n    getLastProposals();\n  }, [])\n\n  const openModal = (id) => {\n    setActiveModal(id);\n  }\n\n  const closeModal = () => {\n    setActiveModal(false);\n  };\n\n  const handleViewBtn = (proposal, id) => {\n    setProposalDetalis(proposal);\n    openModal(\"coverLetter\");\n    viewProposal(id);\n  }\n\n  const handleActionBtn = (name, func) => {\n    openModal('action');\n    setAction({ name, func });\n  }\n\n  return (\n    <>\n      <div className=\"breadcrumb-bar\">\n        <div className=\"container-fluid\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-md-12 col-12\">\n              <nav aria-label=\"breadcrumb\" className=\"page-breadcrumb\">\n                <ol className=\"breadcrumb\">\n                  <li className=\"breadcrumb-item\"><Link to=\"/home\">Home</Link></li>\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">Dashboard</li>\n                </ol>\n              </nav>\n              <h2 className=\"breadcrumb-title\">Dashboard</h2>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\n              <StickyBox offsetTop={20} offsetBottom={20}>\n                <DoctorSidebar />\n              </StickyBox>\n            </div>\n\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\n              {\n                loading ? <PageLoading loading={loading} /> :\n                  <>\n\n                    <div className=\"row\">\n                      <div className=\"col-md-12\">\n                        <div className=\"card dash-card\">\n                          <div className=\"card-body\">\n                            <div className=\"row\">\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget dct-border-rht\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={50}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#da3f81\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon01} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Jobs</h6>\n                                    <h3>{total.totalJobs}</h3>\n                                    <p className=\"text-muted\">Till Today</p>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget dct-border-rht\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={60}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#68dda9\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon02} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Proposals</h6>\n                                    <h3>{total.totalProposals}</h3>\n                                    <p className=\"text-muted\">06, Nov 2019</p>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-md-12 col-lg-4\">\n                                <div className=\"dash-widget\">\n                                  <ProgressBar\n                                    width={20}\n                                    radius={100}\n                                    progress={70}\n                                    rotate={-210}\n                                    strokeWidth={16}\n                                    strokeColor=\"#1b5a90\"\n                                    strokeLinecap=\"square\"\n                                    trackStrokeWidth={8}\n                                    trackStrokeColor=\"#e6e6e6\"\n                                    trackStrokeLinecap=\"square\"\n                                    pointerRadius={0}\n                                    initialAnimation={true}\n                                    transition=\"1.5s ease 0.5s\"\n                                    trackTransition=\"0s ease\"\n                                  >\n                                    <div className=\"indicator-volume\">\n                                      <img src={Icon03} className=\"img-fluid\" alt=\"Patient\" />\n                                    </div>\n                                  </ProgressBar>\n                                  <div className=\"dash-widget-info\">\n                                    <h6>Total Closed Jobs</h6>\n                                    <h3>{total.totalCompletedJobs}</h3>\n                                    <p className=\"text-muted\">06, Apr 2019</p>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-md-12\">\n                        <h4 className=\"mb-4\">Last Proposals</h4>\n                        <div className=\"appointment-tab\">\n                          <div className=\"tab-pane show active\" id=\"upcoming-appointments\">\n                            <div className=\"card card-table mb-0\">\n                              <div className=\"card-body\">\n                                <div className=\"table-responsive\">\n                                  <table className=\"table table-hover table-center mb-0\">\n                                    <thead>\n                                      <tr>\n                                        <th>Eployee Name</th>\n                                        <th>Job Title</th>\n                                        <th>Posted At</th>\n                                        <th>Status</th>\n                                      </tr>\n                                    </thead>\n                                    <tbody>\n                                      {\n                                        lastProposals.map((item, index) => {\n                                          const { employee, job, id, message, created_at, status } = item;\n                                          const { name, photo } = employee;\n                                          const photoUrl = photo ? `http://excodeteam.com/crs/public/images/${photo}` : IMG01;\n                                          const jobObj = job ? { ...job } : {};\n                                          const { id: JobId, title, image } = jobObj;\n                                          const imageUrl = image ? `http://excodeteam.com/crs/public/images/${image}` : IMG01;\n                                          const posted_at = moment(created_at).format(\"YYYY-MM-DD\");\n                                          const proposalStatus = status === \"0\" ? \"Pending\" : status === \"1\" ? \"Accepted\" : status === \"2\" ? \"Selected\" : \"Rejected\";\n                                          const statusClass = status === \"0\" ? \"warning\" : status === \"1\" ? \"primary\" : status === \"2\" ? \"success\" : \"danger\";\n\n                                          const proposal = { ...employee, message, photoUrl, status, proposalId: id };\n                                          return (\n                                            <tr key={id}>\n                                              <td>\n                                                <h2 className=\"table-avatar\">\n                                                  <Link to=\"#\" className=\"avatar avatar-sm mr-2\">\n                                                    <img className=\"avatar-img rounded-circle\" src={photoUrl} alt=\"User\" />\n                                                  </Link>\n                                                  <Link to=\"#\">\n                                                    {name}\n                                                  </Link>\n                                                </h2>\n                                              </td>\n                                              <td>\n                                                <h2 className=\"table-avatar\">\n                                                  <Link to={`/employer/jobs/single-job/${JobId}`} className=\"avatar avatar-sm mr-2\">\n                                                    <img className=\"avatar-img rounded-circle\" src={imageUrl} alt=\"User\" />\n                                                  </Link>\n                                                  <Link to={`/employer/jobs/single-job/${JobId}`}>\n                                                    {title}\n                                                  </Link>\n                                                </h2>\n                                              </td>\n                                              <td>{posted_at}</td>\n                                              <td><span className={`badge badge-pill bg-${statusClass}-light`}>{proposalStatus}</span></td>\n                                              <td className=\"text-right\">\n                                                <div className=\"table-action\">\n                                                  <button className=\"btn btn-sm bg-info-light\" onClick={() => handleViewBtn(proposal, id)}>\n                                                    <i className=\"far fa-eye\"></i> View\n                                                  </button>\n                                                  {\n                                                    status === \"0\" ?\n                                                      <>\n                                                        <button className=\"btn btn-sm bg-primary-light\"\n                                                          onClick={() => handleActionBtn(\"Accept\", () => acceptProposal(id))}>\n                                                          <i className=\"fas fa-check\"></i> Accept\n                                                        </button>\n                                                        <button className=\"btn btn-sm bg-danger-light\"\n                                                          onClick={() => handleActionBtn(\"Reject\", () => rejectProposal(id))}>\n                                                          <i className=\"fas fa-times\"></i> Reject\n                                                        </button>\n                                                      </>\n                                                      : status === \"1\" ?\n                                                        <button className=\"btn btn-sm bg-success-light\"\n                                                          onClick={() => handleActionBtn(\"Select\", () => selectProposal(id))}>\n                                                          <i className=\"fas fa-check-double\"></i> Select\n                                                        </button>\n                                                        : null\n                                                  }\n                                                </div>\n                                              </td>\n                                            </tr>\n                                          )\n                                        })\n                                      }\n                                    </tbody>\n                                  </table>\n\n                                  {/* cover letter modal */}\n                                  <ViewProposal proposal={proposalDetails} activeModal={activeModal} closeModal={closeModal} handleActionBtn={handleActionBtn} />\n\n                                  {/* action modal */}\n                                  <Modal show={activeModal === 'action'} onHide={closeModal} centered>\n                                    <Modal.Body className=\"text-center\">\n                                      <div className=\"form-content p-2\">\n                                        <h4 className=\"modal-title\">{action.name}</h4>\n                                        <p className=\"mb-4\">Are you sure want to {action.name}?</p>\n                                        <button type=\"button\" className=\"btn bg-success-light mr-2\" onClick={() => { action.func(); closeModal() }}> OK </button>\n                                        <button type=\"button\" className=\"btn bg-danger-light\" data-dismiss=\"modal\" onClick={closeModal}>Cancel</button>\n                                      </div>\n                                    </Modal.Body>\n                                  </Modal>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                  </>\n              }\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default EmployerDashboard;\n"],"sourceRoot":""}