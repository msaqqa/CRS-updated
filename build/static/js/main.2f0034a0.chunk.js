(this["webpackJsonpcrs-project"]=this["webpackJsonpcrs-project"]||[]).push([[7],{15:function(e,t,o){"use strict";var a=o(6);t.a=Object(a.a)()},26:function(e,t,o){"use strict";o.d(t,"a",(function(){return S})),o.d(t,"b",(function(){return O}));var a=o(11),n=o(2),r=o.n(n),s=o(7),c=o(16),u=o(17),i=o(18),l=o(19),g=o(0),p=o.n(g),f=o(15),d=o(8),h=o.n(d),m=o(1);o(30);m.a.configure();var O=Object(g.createContext)(),b=function(e){Object(i.a)(o,e);var t=Object(l.a)(o);function o(){var e;Object(c.a)(this,o);for(var n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))).state={url:"http://excodeteam.com/crs/api/v1",categories:[],countries:[],user:{},loading:!1,forgetStatus:0},e.componentDidMount=function(){localStorage.getItem("user")?e.setState({user:JSON.parse(localStorage.getItem("user"))}):e.setState({user:{}})},e.getCategories=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"get",url:"".concat(e.state.url,"/user/register")}).then((function(t){var o=t.data.data.categories;e.setState({categories:o}),console.log(t)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e.getCountries=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"get",url:"https://restcountries.eu/rest/v2/all"}).then((function(t){var o=t.data.map((function(e){return e.name}));e.setState({countries:o}),console.log(t)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e.userRegister=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),console.log("userRegister",o),t.next=4,h()({method:"post",url:"".concat(e.state.url,"/user/register"),data:Object(a.a)({},o)}).then((function(e){var t=e.data,o=t.code,a=t.status,n=t.message;200==o&&!0===a?(m.a.success(n,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),f.a.push("/login")):m.a.error(n,{position:m.a.POSITION.TOP_CENTER}),console.log(e)}),(function(e){console.log(e)}));case 4:e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.userLogin=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,h()({method:"post",url:"".concat(e.state.url,"/user/login"),data:Object(a.a)({},o)}).then((function(t){var o=t.data,n=o.code,r=o.status,s=o.message,c=o.accessToken,u=o.user;if("200"===n&&!0===r){var i=u.type,l=u.photo,g=u.name,p=u.birthDate,d=u.country_id;e.setState({user:Object(a.a)({token:c},u)});var h="2"===i?"/employee/dashboard":"/employer/dashboard";"0"===i?window.open("/admin","_blank"):f.a.push(h),localStorage.setItem("user",JSON.stringify({token:c,type:i,photo:l,name:g,birthDate:p,country_id:d})),m.a.success(s,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER})}else m.a.error(s,{position:m.a.POSITION.TOP_CENTER});console.log(t)}),(function(e){m.a.error("There was an error. Please try again...",{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),console.log(e)}));case 3:e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.userRefresh=function(){var t=Object(s.a)(r.a.mark((function t(o){var n,s,c,u,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.type,s=o.photo,c=o.name,u=o.birthDate,i=o.country_id,l=e.state.user.token,t.next=4,e.setState({user:Object(a.a)({token:l},o)});case 4:localStorage.setItem("user",JSON.stringify({token:l,type:n,photo:s,name:c,birthDate:u,country_id:i}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.userLogout=function(){e.setState({user:{}}),localStorage.removeItem("user"),f.a.push("/login")},e.changePassword=function(){var t=Object(s.a)(r.a.mark((function t(o){var a,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.oldPassword,n=o.newPassword,t.next=3,h()({method:"post",url:"".concat(e.state.url,"/change_password"),headers:{Authorization:"Bearer ".concat(e.state.user.token)},data:{old_password:a,new_password:n}}).then((function(e){var t=e.data,o=t.code,a=t.status,n=t.message;200===o&&!0===a?m.a.success(n,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}):m.a.error(n,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),console.log(e)}),(function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.forgotPassword=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"post",url:"".concat(e.state.url,"/user/forgot_password"),data:o}).then((function(t){var o=t.data,a=o.code,n=o.status,r=o.message;200===a&&!0===n?(e.setState({forgetStatus:1}),m.a.success(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER})):m.a.error(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),console.log(t)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendCode=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"post",url:"".concat(e.state.url,"/user/send_code"),data:o}).then((function(t){var o=t.data,a=o.code,n=o.status,r=o.message;200===a&&!0===n?(e.setState({forgetStatus:2}),m.a.success(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER})):m.a.error(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),console.log(t)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resetPassword=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h()({method:"post",url:"".concat(e.state.url,"/user/reset_password"),data:o}).then((function(t){var o=t.data,a=o.code,n=o.status,r=o.message;200===a&&!0===n?(e.setState({forgetStatus:0}),f.a.push("/login"),m.a.success(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER})):m.a.error(r,{autoClose:2e3,position:m.a.POSITION.TOP_CENTER}),console.log(t)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(o,[{key:"render",value:function(){return p.a.createElement(O.Provider,{value:Object(a.a)(Object(a.a)({},this.state),{},{getCategories:this.getCategories,getCountries:this.getCountries,userRegister:this.userRegister,userLogin:this.userLogin,userRefresh:this.userRefresh,userLogout:this.userLogout,changePassword:this.changePassword,forgotPassword:this.forgotPassword,sendCode:this.sendCode,resetPassword:this.resetPassword})},this.props.children)}}]),o}(g.Component),S=O.Consumer;t.c=b},27:function(e,t,o){"use strict";o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return m}));var a=o(11),n=o(2),r=o.n(n),s=o(7),c=o(16),u=o(17),i=o(18),l=o(19),g=o(0),p=o.n(g),f=o(8),d=o.n(f),h=(o(15),o(1));o(30);h.a.configure();var m=Object(g.createContext)(),O=function(e){Object(i.a)(o,e);var t=Object(l.a)(o);function o(){var e;Object(c.a)(this,o);for(var a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).state={url:"http://excodeteam.com/crs/api/v1",categories:{categoriesList:[],recentJobs:[],categoryJobs:[],subCategories:[]},singleJob:{},successStories:[],loading:!1},e.componentDidMount=function(){e.getCategoriesJobs(),e.getSuccessStories()},e.authHeader=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer ".concat(e.token)}:{}},e.getCategoriesJobs=function(){var t=Object(s.a)(r.a.mark((function t(o,a,n){var s,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),"number"===typeof o?"sub"===n?c=o:s=o:u=o,t.next=4,d()({method:"post",url:"".concat(e.state.url,"/employer/all_jobs"),data:{category_id:s,sub_category:c,keyword:u}}).then((function(t){var o=t.data,r=o.data,c=o.categories,u=o.recent_jobs,i=o.tags,l=r.data,g=s?c.find((function(e){return e.id==s})).sub_category:[];e.setState({categories:{categoriesList:c,recentJobs:u,tags:i,categoryJobs:l,categoryName:a||"",categoryType:n,subCategories:g}});var p={categoriesList:c,recentJobs:u,tags:i,categoryJobs:l};localStorage.setItem("categories",JSON.stringify(p)),console.log(t)}),(function(e){console.log(e)}));case 4:e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e,o,a){return t.apply(this,arguments)}}(),e.getStorageCategoriesJobs=function(){return localStorage.getItem("categories")?JSON.parse(localStorage.getItem("categories")):{}},e.getSingleJob=function(){var t=Object(s.a)(r.a.mark((function t(o){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,d()({method:"post",url:"".concat(e.state.url,"/employee/get_job"),data:{job_id:o}}).then((function(t){var o=t.data.data;e.setState({singleJob:o}),console.log(t)}),(function(e){console.log(e)}));case 3:e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.setProposalJob=function(){var t=Object(s.a)(r.a.mark((function t(o,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({method:"post",url:"".concat(e.state.url,"/employee/send_proposal"),headers:e.authHeader(),data:{job_id:o,message:a}}).then((function(e){h.a.success("Success Post Proposal",{autoClose:2e3,position:h.a.POSITION.TOP_CENTER}),console.log(e)}),(function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}(),e.getSuccessStories=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,d()({method:"post",url:"".concat(e.state.url,"/admin/success_story")}).then((function(t){var o=t.data.data;e.setState({successStories:o}),console.log(t)}),(function(e){console.log(e)}));case 3:e.setState({loading:!1});case 4:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(o,[{key:"render",value:function(){return p.a.createElement(m.Provider,{value:Object(a.a)(Object(a.a)({},this.state),{},{getCategoriesJobs:this.getCategoriesJobs,getSingleJob:this.getSingleJob,setProposalJob:this.setProposalJob,getSuccessStories:this.getSuccessStories})},this.props.children)}}]),o}(g.Component),b=m.Consumer;t.c=O},33:function(e,t,o){"use strict";var a,n=o(28),r=o(0),s=o.n(r),c=o(20),u=o(46),i=o.n(u),l=Object(c.css)(a||(a=Object(n.a)(["\n  display: block;\n  margin: calc(50vh - 100px) auto;\n"])));t.a=function(){return s.a.createElement("div",{className:"sweet-loading"},s.a.createElement(i.a,{css:l,size:100,color:"#36D7B7"}))}},53:function(e,t,o){},54:function(e,t,o){e.exports=o(96)},87:function(e,t,o){},88:function(e,t,o){},89:function(e,t,o){},93:function(e,t,o){},94:function(e,t,o){},95:function(e,t){},96:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(13),s=o.n(r),c=o(25),u=o(3),i=o(26),l=o(27),g=o(33),p=Object(a.lazy)((function(){return Promise.all([o.e(9),o.e(17)]).then(o.bind(null,721))})),f=function(e){return n.a.createElement(i.c,null,n.a.createElement(l.c,null,n.a.createElement(a.Suspense,{fallback:n.a.createElement(g.a,null)},n.a.createElement(c.a,null,n.a.createElement(u.a,{render:function(e){return n.a.createElement(p,e)}})))))};o(85),o(86),o(87),o(88),o(89),o(90),o(91),o(92),o(93),o(94),o(95),o(53);s.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[54,8,10]]]);
//# sourceMappingURL=main.2f0034a0.chunk.js.map