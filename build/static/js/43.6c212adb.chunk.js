(this["webpackJsonpcrs-project"]=this["webpackJsonpcrs-project"]||[]).push([[43],{141:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return l}));var n=t(0),r=t.n(n);function c(e,a,t){return"prev"===a?r.a.createElement("a",{href:"#0"},"Previous"):"next"===a?r.a.createElement("a",{href:"#0"},"Next"):t}function l(e,a){}},279:function(e,a){e.exports="data:image/png;base64,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"},711:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(2),c=t.n(r),l=t(7),s=t(16),o=t(17),i=t(18),m=t(19),d=t(0),u=t.n(d),g=t(719),b=(t(158),t(25)),h=t(720),E=t(141),p=t(165),f=t(166),A=t(279),N=t.n(A),v=t(135),S=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).state={show:null,isEdit:!1,id:"",name:"",parent:"",image:""},e.componentDidMount=Object(l.a)(c.a.mark((function a(){var t,n,r,l;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.props.match.params.id,n=e.context,r=n.subCategories,l=n.getSubCategories,0===r.length&&l(t);case 4:case"end":return a.stop()}}),a)}))),e.handleClose=function(){e.setState({show:!1})},e.handleShow=function(a){e.setState({show:a})},e.handleAddBtn=function(){e.setState({id:"",name:"",parent:"",image:"",isEdit:!1}),e.handleShow("edit")},e.handleEditBtn=function(a){var t=a.id,n=a.name,r=a.parent,c=a.image;e.setState({id:t,name:n,parent:r,image:c,isEdit:!0}),e.handleShow("edit")},e.handleDeleteBtn=function(a){e.setState({id:a}),e.handleShow("delete")},e.handleSubmitDelete=Object(l.a)(c.a.mark((function a(){var t,n,r,l,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state.id,n=e.props.match.params.id,r=e.context,l=r.deleteCategory,s=r.getSubCategories,a.next=5,l(t);case 5:s(n),e.handleClose();case 7:case"end":return a.stop()}}),a)}))),e.initialValues=function(){return{name:e.state.name||"",parent:e.state.parent||"",image:null}},e.validationSchema=function(){var e=["image/jpg","image/jpeg","image/gif","image/png"];return f.c().shape({name:f.e().required("Required"),parent:f.e().required("Required"),image:f.a().required("Required").test("fileFormat","Unsupported Format",(function(a){return a&&e.includes(a.type)}))})},e.handleSubmit=function(){var a=Object(l.a)(c.a.mark((function a(t){var r,l,s,o,i,m;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(t),r=e.state.id,l=e.props.match.params.id,s=e.context,o=s.updateCategory,i=s.addCategory,m=s.getSubCategories,!e.state.isEdit){a.next=9;break}return a.next=7,o(Object(n.a)({id:r},t));case 7:a.next=11;break;case 9:return a.next=11,i(t);case 11:m(l),e.handleClose();case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(o.a)(t,[{key:"render",value:function(){var e=this,a=this.context,t=a.subCategories,n=a.categories,r=t,c=[{title:"#",dataIndex:"id",sorter:function(e,a){return e.id.length-a.id.length}},{title:"Category",dataIndex:"name",render:function(e,a){var t=a.image,n=a.name,r=(a.id,t?"http://excodeteam.com/crs/public/images/".concat(t):N.a);return u.a.createElement("h2",{className:"table-avatar"},u.a.createElement(b.b,{to:"#",className:"avatar avatar-sm mr-2"},u.a.createElement("img",{src:r,className:"avatar-img",alt:""})),u.a.createElement(b.b,{to:"#"},n))},sorter:function(e,a){return e.name.length-a.name.length}},{title:"Actions",dataIndex:"id",render:function(a,t){return u.a.createElement("div",{className:"actions"},u.a.createElement("button",{className:"btn btn-sm bg-success-light",onClick:function(){return e.handleEditBtn(t)}},u.a.createElement("i",{className:"fe fe-pencil"})," Edit"),u.a.createElement("button",{className:"btn btn-sm bg-danger-light",onClick:function(){return e.handleDeleteBtn(a)}},u.a.createElement("i",{className:"fe fe-trash"})," Delete"))}}];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"page-wrapper"},u.a.createElement("div",{className:"content container-fluid"},u.a.createElement("div",{className:"page-header"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-7 col-auto"},u.a.createElement("h3",{className:"page-title"},"Sub Categories"),u.a.createElement("ul",{className:"breadcrumb"},u.a.createElement("li",{className:"breadcrumb-item"},u.a.createElement(b.b,{to:"/admin"},"Dashboard")),u.a.createElement("li",{className:"breadcrumb-item active"},u.a.createElement(b.b,{to:"/admin/categories"},"Categories")),u.a.createElement("li",{className:"breadcrumb-item active"},"Sub Categories"))),u.a.createElement("div",{className:"col-sm-5 col"},u.a.createElement("button",{className:"btn btn-primary float-right mt-2",onClick:this.handleAddBtn},"Add")))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-12"},u.a.createElement("div",{className:"card"},u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"table-responsive"},u.a.createElement(g.a,{className:"table-striped",style:{overflowX:"auto"},columns:c,dataSource:r,ascend:!0,rowKey:function(e){return e.id},showSizeChanger:!0,pagination:{total:r.length,showTotal:function(e,a){return"Showing ".concat(a[0]," to ").concat(a[1]," of ").concat(e," entries")},showSizeChanger:!0,onShowSizeChange:E.b,itemRender:E.a}}))))))),u.a.createElement(h.a,{show:"edit"===this.state.show,onHide:this.handleClose,centered:!0},u.a.createElement(h.a.Header,{closeButton:!0},u.a.createElement(h.a.Title,null,u.a.createElement("h5",{className:"modal-title"},"Category"))),u.a.createElement(h.a.Body,null,u.a.createElement(p.e,{initialValues:this.initialValues(),validationSchema:this.validationSchema,onSubmit:this.handleSubmit,validateOnChange:!1,enableReinitialize:!0},(function(e){var a=e.setFieldValue;return u.a.createElement(p.d,null,u.a.createElement("div",{className:"row form-row"},u.a.createElement("div",{className:"col-12 col-sm-6"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Category Name"),u.a.createElement(p.b,{type:"text",name:"name",className:"form-control"}),u.a.createElement(p.a,{name:"name"}))),u.a.createElement("div",{className:"col-12 col-sm-6"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Main Category"),u.a.createElement(p.b,{as:"select",name:"parent",className:"form-control"},u.a.createElement("option",{value:"",disabled:!0},"Select Parent Category"),u.a.createElement("option",{value:"0"},"Main Category"),n.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.name)}))),u.a.createElement(p.a,{name:"parent"}))),u.a.createElement("div",{className:"col-12"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Image"),u.a.createElement(p.b,{type:"file",name:"file",className:"form-control",onChange:function(e){a("image",e.currentTarget.files[0])}}),u.a.createElement(p.a,{name:"image"})))),u.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Save Changes"))})))),u.a.createElement(h.a,{show:"delete"===this.state.show,onHide:this.handleClose,centered:!0},u.a.createElement(h.a.Body,{className:"text-center"},u.a.createElement("div",{className:"form-content p-2"},u.a.createElement("h4",{className:"modal-title"},"Delete"),u.a.createElement("p",{className:"mb-4"},"Are you sure want to delete?"),u.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleSubmitDelete},"Save "),u.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){return e.handleClose()}},"Close"))))))}}]),t}(d.Component);S.contextType=v.a,a.default=S}}]);
//# sourceMappingURL=43.6c212adb.chunk.js.map